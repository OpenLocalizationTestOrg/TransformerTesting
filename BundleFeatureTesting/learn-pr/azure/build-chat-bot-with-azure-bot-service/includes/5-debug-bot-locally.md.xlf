<?xml version="1.0"?><xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd"><file datatype="xml" original="5-debug-bot-locally.md" source-language="en-US" target-language="en-US"><header><tool tool-id="mdxliff" tool-name="mdxliff" tool-version="1.0-1931010" tool-company="Microsoft" /><xliffext:skl_file_name xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">5-debug-bot-locally.9b8f8fda8a425efa5d2700881755b1756a0dca78.skl</xliffext:skl_file_name><xliffext:version xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">1.2</xliffext:version><xliffext:ms.openlocfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">1eb6177fb37b925be0f4ba6a626e9d8909d96599</xliffext:ms.openlocfilehash><xliffext:ms.lasthandoff xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">04/24/2019</xliffext:ms.lasthandoff><xliffext:ms.openlocfilepath xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">learn-pr\azure\build-chat-bot-with-azure-bot-service\includes\5-debug-bot-locally.md</xliffext:ms.openlocfilepath></header><body><group id="content" extype="content"><trans-unit id="101" translate="yes" xml:space="preserve">
          <source>As with any application code that you write, changes to bot code need to be tested and debugged locally before being deployed to production.</source>
        </trans-unit><trans-unit id="102" translate="yes" xml:space="preserve">
          <source>To help debug bots, Microsoft offers the Bot Framework Emulator.</source>
        </trans-unit><trans-unit id="103" translate="yes" xml:space="preserve">
          <source>In this unit, you will learn how to use Visual Studio Code and the emulator to debug your bots.</source>
        </trans-unit><trans-unit id="104" translate="yes" xml:space="preserve">
          <source>Install local Node.js packages</source>
        </trans-unit><trans-unit id="105" translate="yes" xml:space="preserve">
          <source>Execute the following command in Visual Studio Code's integrated terminal to install <bpt id="p1">[</bpt>Restify<ept id="p1">](http://restify.com/)</ept>, a popular Node.js package for building and consuming RESTful web services:</source>
        </trans-unit><trans-unit id="106" translate="yes" xml:space="preserve">
          <source>Repeat this step for the following commands to install the <bpt id="p1">[</bpt>Microsoft Bot Framework Bot Builder SDK for Node.js<ept id="p1">](https://docs.microsoft.com/bot-framework/nodejs/bot-builder-nodejs-quickstart)</ept>:</source>
        </trans-unit><trans-unit id="107" translate="yes" xml:space="preserve">
          <source>Modify the Bot to execute locally with the Bot emulator</source>
        </trans-unit><trans-unit id="108" translate="yes" xml:space="preserve">
          <source>The downloaded code is a simple echo service.</source>
        </trans-unit><trans-unit id="109" translate="yes" xml:space="preserve">
          <source>Let's replace that code with some basic code to ask questions and respond to simple prompts.</source>
        </trans-unit><trans-unit id="110" translate="yes" xml:space="preserve">
          <source>We'll execute this code with the Bot emulator.</source>
        </trans-unit><trans-unit id="111" translate="yes" xml:space="preserve">
          <source>Select the <bpt id="p1">**</bpt>Explorer<ept id="p1">**</ept> button in Visual Studio Code's activity bar (it's the first icon in the sidebar).</source>
        </trans-unit><trans-unit id="112" translate="yes" xml:space="preserve">
          <source>Select <bpt id="p1">**</bpt>app.js<ept id="p1">**</ept> to open it in the code editor.</source>
        </trans-unit><trans-unit id="113" translate="yes" xml:space="preserve">
          <source>This file contains the code that drives the bot â€” code that was generated by the Azure Bot Service and downloaded from the Azure portal.</source>
        </trans-unit><trans-unit id="114" translate="yes" xml:space="preserve">
          <source>Replace the contents of <bpt id="p1">**</bpt>app.js<ept id="p1">**</ept> with the following code, then save the file.</source>
        </trans-unit><trans-unit id="115" translate="yes" xml:space="preserve">
          <source>Install the Bot Framework Emulator</source>
        </trans-unit><trans-unit id="116" translate="yes" xml:space="preserve">
          <source>The Bot Framework Emulator is a cross-platform desktop application that allows bot developers to test and debug bots built using the BotBuilder SDK.</source>
        </trans-unit><trans-unit id="117" translate="yes" xml:space="preserve">
          <source>You can use the Bot Framework Emulator to test bots running either locally on your machine or connect to bots running remotely through a secure network connection.</source>
        </trans-unit><trans-unit id="118" translate="yes" xml:space="preserve">
          <source>If you already have the emulator installed, you can skip this section and move on to debugging the Bot code.</source>
        </trans-unit><trans-unit id="119" translate="yes" xml:space="preserve">
          <source>Navigate to <bpt id="p1">[</bpt>Bot Framework Emulator releases page<ept id="p1">](https://github.com/Microsoft/BotFramework-Emulator/releases/)</ept> in a new browser tab or window.</source>
        </trans-unit><trans-unit id="120" translate="yes" xml:space="preserve">
          <source>Select a download for your specific platform, Linux, macOS, or Windows.</source>
        </trans-unit><trans-unit id="121" translate="yes" xml:space="preserve">
          <source>Unzip the package and install it through normal OS installation procedures.</source>
        </trans-unit><trans-unit id="122" translate="yes" xml:space="preserve">
          <source>Debug the Bot in Visual Studio Code</source>
        </trans-unit><trans-unit id="123" translate="yes" xml:space="preserve">
          <source>Now that we have the emulator installed,</source>
        </trans-unit><trans-unit id="124" translate="yes" xml:space="preserve">
          <source>Switch back to Visual Studio Code and open the <bpt id="p1">**</bpt>app.js<ept id="p1">**</ept> source file.</source>
        </trans-unit><trans-unit id="125" translate="yes" xml:space="preserve">
          <source>Set breakpoints on lines 20, 25, and 30 (<ph id="ph1">`builder.Prompts...`</ph> calls) by clicking in the margin on the left.</source>
        </trans-unit><trans-unit id="126" translate="yes" xml:space="preserve">
          <source>Select the <bpt id="p1">**</bpt>Debug<ept id="p1">**</ept> button in the activity bar, then select the green arrow <bpt id="p2">**</bpt>Start Debugging<ept id="p2">**</ept> button to start a debugging session.</source>
        </trans-unit><trans-unit id="127" translate="yes" xml:space="preserve">
          <source>Confirm that "test bot endpoint at <ph id="ph1">&lt;http://localhost:3978/api/messages&gt;</ph>" appears in the debug console.</source>
        </trans-unit><trans-unit id="128" translate="yes" xml:space="preserve">
          <source>Screenshot of Visual Studio Code showing the Debug system with the Debug navigation item and debug play button used to start a debugging session highlighted.</source>
        </trans-unit><trans-unit id="129" translate="yes" xml:space="preserve">
          <source>Your bot code is now running locally.</source>
        </trans-unit><trans-unit id="130" translate="yes" xml:space="preserve">
          <source>Launch the <bpt id="p1">**</bpt>Bot Framework Emulator<ept id="p1">**</ept> from the Start Menu or launch icon.</source>
        </trans-unit><trans-unit id="131" translate="yes" xml:space="preserve">
          <source>Select the <bpt id="p1">**</bpt>Enter your endpoint URL<ept id="p1">**</ept> field.</source>
        </trans-unit><trans-unit id="132" translate="yes" xml:space="preserve">
          <source>Enter the bot name and the bot URL <ph id="ph1">`http://localhost:3978/api/messages`</ph> displayed in the debug console in the previous step.</source>
        </trans-unit><trans-unit id="133" translate="yes" xml:space="preserve">
          <source>Leave the Microsoft App ID, Microsoft App Password, and Locale fields empty and select <bpt id="p1">**</bpt>CONNECT<ept id="p1">**</ept>.</source>
        </trans-unit><trans-unit id="134" translate="yes" xml:space="preserve">
          <source>Then, select <bpt id="p1">**</bpt>Save and connect<ept id="p1">**</ept> and save the configuration file in the location of your choice.</source>
        </trans-unit><trans-unit id="135" translate="yes" xml:space="preserve">
          <source>In the future, you can reconnect to the bot simply by selecting the bot name under "My Bots".</source>
        </trans-unit><trans-unit id="136" translate="yes" xml:space="preserve">
          <source>Screenshot of the Bot Framework Emulator showing the New bot configuration screen with the Save and connect button highlighted.</source>
        </trans-unit><trans-unit id="137" translate="yes" xml:space="preserve">
          <source>Test the local bot</source>
        </trans-unit><trans-unit id="138" translate="yes" xml:space="preserve">
          <source>Type "hi" into the box at the bottom of the emulator and press <bpt id="p1">&lt;kbd&gt;</bpt>Enter<ept id="p1">&lt;/kbd&gt;</ept>.</source>
        </trans-unit><trans-unit id="139" translate="yes" xml:space="preserve">
          <source>Confirm that Visual Studio Code breaks on line 20 of <bpt id="p1">**</bpt>app.js<ept id="p1">**</ept>.</source>
        </trans-unit><trans-unit id="140" translate="yes" xml:space="preserve">
          <source>Select the <bpt id="p1">**</bpt>Continue<ept id="p1">**</ept> button in Visual Studio Code's debugging toolbar, and return to the emulator to see the bot's response.</source>
        </trans-unit><trans-unit id="141" translate="yes" xml:space="preserve">
          <source>The bot will ask you a series of questions.</source>
        </trans-unit><trans-unit id="142" translate="yes" xml:space="preserve">
          <source>Answer them and select <bpt id="p1">**</bpt>Continue<ept id="p1">**</ept> in Visual Studio Code each time a breakpoint is hit.</source>
        </trans-unit><trans-unit id="143" translate="yes" xml:space="preserve">
          <source>When you're done, select the <bpt id="p1">**</bpt>Stop<ept id="p1">**</ept> button in the debugging toolbar to end the debugging session.</source>
        </trans-unit><trans-unit id="144" translate="yes" xml:space="preserve">
          <source>At this point, you have a fully functioning bot and know how to debug it by running it locally in the Microsoft Bot Framework Emulator.</source>
        </trans-unit><trans-unit id="145" translate="yes" xml:space="preserve">
          <source>The next step is to make the bot more intelligent by connecting it to the knowledge base you published.</source>
        </trans-unit></group></body></file></xliff>