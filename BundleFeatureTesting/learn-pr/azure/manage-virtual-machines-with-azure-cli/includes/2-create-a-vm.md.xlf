<?xml version="1.0"?><xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd"><file datatype="xml" original="2-create-a-vm.md" source-language="en-US" target-language="en-US"><header><tool tool-id="mdxliff" tool-name="mdxliff" tool-version="1.0-1931010" tool-company="Microsoft" /><xliffext:skl_file_name xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">2-create-a-vm.5ea22b021090f2398843b967d1e88ef6527342e6.skl</xliffext:skl_file_name><xliffext:version xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">1.2</xliffext:version><xliffext:ms.openlocfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">e136e60d55263548d9e93dcbbe73051594f167f0</xliffext:ms.openlocfilehash><xliffext:ms.lasthandoff xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">05/13/2019</xliffext:ms.lasthandoff><xliffext:ms.openlocfilepath xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">learn-pr\azure\manage-virtual-machines-with-azure-cli\includes\2-create-a-vm.md</xliffext:ms.openlocfilepath></header><body><group id="content" extype="content"><trans-unit id="101" translate="yes" xml:space="preserve">
          <source>Let's start with the most obvious task: creating an Azure Virtual Machine.</source>
        </trans-unit><trans-unit id="102" translate="yes" xml:space="preserve">
          <source>Logins, subscriptions, and resource groups</source>
        </trans-unit><trans-unit id="103" translate="yes" xml:space="preserve">
          <source>You'll be working in the Azure Cloud Shell on the right.</source>
        </trans-unit><trans-unit id="104" translate="yes" xml:space="preserve">
          <source>Once you activate the sandbox, you'll be logged into Azure with a free subscription managed by Microsoft Learn.</source>
        </trans-unit><trans-unit id="105" translate="yes" xml:space="preserve">
          <source>You don't have to log into Azure on your own, or select a subscription - this will be done for you.</source>
        </trans-unit><trans-unit id="106" translate="yes" xml:space="preserve">
          <source>In addition, normally you would create a <bpt id="p1">_</bpt>resource group<ept id="p1">_</ept> to hold new resources.</source>
        </trans-unit><trans-unit id="107" translate="yes" xml:space="preserve">
          <source>In this module, the Azure sandbox will create a resource group for you which will be used to execute all the commands.</source>
        </trans-unit><trans-unit id="108" translate="yes" xml:space="preserve">
          <source>Create a Linux VM with the Azure CLI</source>
        </trans-unit><trans-unit id="109" translate="yes" xml:space="preserve">
          <source>The Azure CLI includes the <ph id="ph1">`vm`</ph> command to work with virtual machines in Azure.</source>
        </trans-unit><trans-unit id="110" translate="yes" xml:space="preserve">
          <source>We can supply several subcommands to do specific tasks.</source>
        </trans-unit><trans-unit id="111" translate="yes" xml:space="preserve">
          <source>The most common include:</source>
        </trans-unit><trans-unit id="112" translate="yes" xml:space="preserve">
          <source>Sub-command</source>
        </trans-unit><trans-unit id="113" translate="yes" xml:space="preserve">
          <source>Description</source>
        </trans-unit><trans-unit id="114" translate="yes" xml:space="preserve">
          <source>Create a new virtual machine</source>
        </trans-unit><trans-unit id="115" translate="yes" xml:space="preserve">
          <source>Deallocate a virtual machine</source>
        </trans-unit><trans-unit id="116" translate="yes" xml:space="preserve">
          <source>Delete a virtual machine</source>
        </trans-unit><trans-unit id="117" translate="yes" xml:space="preserve">
          <source>List the created virtual machines in your subscription</source>
        </trans-unit><trans-unit id="118" translate="yes" xml:space="preserve">
          <source>Open a specific network port for inbound traffic</source>
        </trans-unit><trans-unit id="119" translate="yes" xml:space="preserve">
          <source>Restart a virtual machine</source>
        </trans-unit><trans-unit id="120" translate="yes" xml:space="preserve">
          <source>Get the details for a virtual machine</source>
        </trans-unit><trans-unit id="121" translate="yes" xml:space="preserve">
          <source>Start a stopped virtual machine</source>
        </trans-unit><trans-unit id="122" translate="yes" xml:space="preserve">
          <source>Stop a running virtual machine</source>
        </trans-unit><trans-unit id="123" translate="yes" xml:space="preserve">
          <source>Update a property of a virtual machine</source>
        </trans-unit><trans-unit id="124" translate="yes" xml:space="preserve">
          <source>For a complete list of commands, you can check the <bpt id="p1">[</bpt>Azure CLI reference documentation<ept id="p1">](https://docs.microsoft.com/cli/azure/reference-index?view=azure-cli-latest)</ept>.</source>
        </trans-unit><trans-unit id="125" translate="yes" xml:space="preserve">
          <source>Let's start with the first one: <ph id="ph1">`az vm create`</ph>.</source>
        </trans-unit><trans-unit id="126" translate="yes" xml:space="preserve">
          <source>This command is used to create a virtual machine in a resource group.</source>
        </trans-unit><trans-unit id="127" translate="yes" xml:space="preserve">
          <source>There are several parameters you can pass to configure all the aspects of the new VM.</source>
        </trans-unit><trans-unit id="128" translate="yes" xml:space="preserve">
          <source>The three parameters that must be supplied are:</source>
        </trans-unit><trans-unit id="129" translate="yes" xml:space="preserve">
          <source>Parameter</source>
        </trans-unit><trans-unit id="130" translate="yes" xml:space="preserve">
          <source>Description</source>
        </trans-unit><trans-unit id="131" translate="yes" xml:space="preserve">
          <source>The resource group that will own the virtual machine, use <bpt id="p1">**</bpt><bpt id="p2">&lt;rgn&gt;</bpt>[sandbox Resource Group]<ept id="p2">&lt;/rgn&gt;</ept><ept id="p1">**</ept>.</source>
        </trans-unit><trans-unit id="132" translate="yes" xml:space="preserve">
          <source>The name of the virtual machine - must be unique within the resource group.</source>
        </trans-unit><trans-unit id="133" translate="yes" xml:space="preserve">
          <source>The operating system image to use to create the VM.</source>
        </trans-unit><trans-unit id="134" translate="yes" xml:space="preserve">
          <source>The region to place the VM in.</source>
        </trans-unit><trans-unit id="135" translate="yes" xml:space="preserve">
          <source>Typically this would be close to the consumer of the VM.</source>
        </trans-unit><trans-unit id="136" translate="yes" xml:space="preserve">
          <source>In this exercise, choose a location nearby from the following list.</source>
        </trans-unit><trans-unit id="137" translate="yes" xml:space="preserve">
          <source>In addition, it's helpful to add the <ph id="ph1">`--verbose`</ph> flag to see progress while the VM is being created.</source>
        </trans-unit><trans-unit id="138" translate="yes" xml:space="preserve">
          <source>Create a Linux virtual machine</source>
        </trans-unit><trans-unit id="139" translate="yes" xml:space="preserve">
          <source>Let's create a new Linux virtual machine.</source>
        </trans-unit><trans-unit id="140" translate="yes" xml:space="preserve">
          <source>Execute the following command in Azure Cloud Shell to create a Debian Linux machine in the "West US" location.</source>
        </trans-unit><trans-unit id="141" translate="yes" xml:space="preserve">
          <source>Change the location if that one isn't nearby.</source>
        </trans-unit><trans-unit id="142" translate="yes" xml:space="preserve">
          <source>This command will create a new <bpt id="p1">**</bpt>Debian<ept id="p1">**</ept> Linux virtual machine with the name <ph id="ph1">`SampleVM`</ph>.</source>
        </trans-unit><trans-unit id="143" translate="yes" xml:space="preserve">
          <source>Notice that the Azure CLI tool waits while the VM is being created.</source>
        </trans-unit><trans-unit id="144" translate="yes" xml:space="preserve">
          <source>You can add the <ph id="ph1">`--no-wait`</ph> option to tell the Azure CLI tool to return immediately and have Azure continue creating the VM in the background.</source>
        </trans-unit><trans-unit id="145" translate="yes" xml:space="preserve">
          <source>This is useful if you're executing the command in a script.</source>
        </trans-unit><trans-unit id="146" translate="yes" xml:space="preserve">
          <source>Later in the script, use the <ph id="ph1">`azure vm wait --name [vm-name]`</ph> command to wait for the VM to finish being created.</source>
        </trans-unit><trans-unit id="147" translate="yes" xml:space="preserve">
          <source>If you look at the verbose responses, you will also see that the <ph id="ph1">`SampleVM`</ph> name is used to name various dependencies for the VM.</source>
        </trans-unit><trans-unit id="148" translate="yes" xml:space="preserve">
          <source>You can override these auto-generated resource names using optional parameters to <ph id="ph1">`vm create`</ph>, such as <ph id="ph2">`--vnet-name`</ph> and <ph id="ph3">`--public-ip-address-dns-name`</ph>.</source>
        </trans-unit><trans-unit id="149" translate="yes" xml:space="preserve">
          <source>We are specifying the administrator account name through the <ph id="ph1">`admin-username`</ph> flag to be <bpt id="p1">**</bpt>"aldis"<ept id="p1">**</ept>.</source>
        </trans-unit><trans-unit id="150" translate="yes" xml:space="preserve">
          <source>If you omit this, the <ph id="ph1">`vm create`</ph> command will use your <bpt id="p1">_</bpt>current user name<ept id="p1">_</ept>.</source>
        </trans-unit><trans-unit id="151" translate="yes" xml:space="preserve">
          <source>Since the rules for account names are different for each OS, it's safer to specify a specific name.</source>
        </trans-unit><trans-unit id="152" translate="yes" xml:space="preserve">
          <source>Common names such as "root" and "admin" are not allowed for most images.</source>
        </trans-unit><trans-unit id="153" translate="yes" xml:space="preserve">
          <source>We are also using the <ph id="ph1">`generate-ssh-keys`</ph> flag.</source>
        </trans-unit><trans-unit id="154" translate="yes" xml:space="preserve">
          <source>This parameter is used for Linux distributions and creates a pair of security keys so we can use the <ph id="ph1">`ssh`</ph> tool to access the virtual machine remotely.</source>
        </trans-unit><trans-unit id="155" translate="yes" xml:space="preserve">
          <source>The two files are placed into the <ph id="ph1">`.ssh`</ph> folder on your machine and in the VM.</source>
        </trans-unit><trans-unit id="156" translate="yes" xml:space="preserve">
          <source>If you already have an SSH key named <ph id="ph1">`id_rsa`</ph> in the target folder, then it will be used rather than having a new key generated.</source>
        </trans-unit><trans-unit id="157" translate="yes" xml:space="preserve">
          <source>Once it finishes creating the VM, you will get a JSON response which includes the current state of the virtual machine and its public and private IP addresses assigned by Azure:</source>
        </trans-unit></group></body></file></xliff>