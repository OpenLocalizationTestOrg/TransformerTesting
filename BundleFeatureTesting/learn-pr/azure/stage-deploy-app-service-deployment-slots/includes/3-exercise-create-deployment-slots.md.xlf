<?xml version="1.0"?><xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd"><file datatype="xml" original="3-exercise-create-deployment-slots.md" source-language="en-US" target-language="en-US"><header><tool tool-id="mdxliff" tool-name="mdxliff" tool-version="1.0-1931010" tool-company="Microsoft" /><xliffext:skl_file_name xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">3-exercise-create-deployment-slots.6403c87dbea234585c53ac11265e89e8b08a5b1c.skl</xliffext:skl_file_name><xliffext:version xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">1.2</xliffext:version><xliffext:ms.openlocfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">9f5089d4de4e546e38eee28b0bbc18479d94a9a7</xliffext:ms.openlocfilehash><xliffext:ms.lasthandoff xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">04/24/2019</xliffext:ms.lasthandoff><xliffext:ms.openlocfilepath xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">learn-pr\azure\stage-deploy-app-service-deployment-slots\includes\3-exercise-create-deployment-slots.md</xliffext:ms.openlocfilepath></header><body><group id="content" extype="content"><trans-unit id="101" translate="yes" xml:space="preserve">
          <source>A deployment slot is an instance of a web app in which you can test a new app version before you deploy it.</source>
        </trans-unit><trans-unit id="102" translate="yes" xml:space="preserve">
          <source>By swapping slots, you can deploy a new version of an app without any downtime.</source>
        </trans-unit><trans-unit id="103" translate="yes" xml:space="preserve">
          <source>Suppose you've chosen to use Azure App Service deployment slots to streamline the deployment of new versions of your social media web app.</source>
        </trans-unit><trans-unit id="104" translate="yes" xml:space="preserve">
          <source>Now you want to set up the web app in Azure and configure the deployment slots.</source>
        </trans-unit><trans-unit id="105" translate="yes" xml:space="preserve">
          <source>Here you'll set up a web app and add a new deployment slot to it for staging.</source>
        </trans-unit><trans-unit id="106" translate="yes" xml:space="preserve">
          <source>You'll also deploy different versions of the web app to those slots.</source>
        </trans-unit><trans-unit id="107" translate="yes" xml:space="preserve">
          <source>Create a web app</source>
        </trans-unit><trans-unit id="108" translate="yes" xml:space="preserve">
          <source>Start by creating a new web app resource in the Azure portal:</source>
        </trans-unit><trans-unit id="109" translate="yes" xml:space="preserve">
          <source>Sign in to the <bpt id="p1">[</bpt>Azure portal<ept id="p1">](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true)</ept> by using the account that you used to activate the sandbox.</source>
        </trans-unit><trans-unit id="110" translate="yes" xml:space="preserve">
          <source>Select <bpt id="p1">**</bpt>Create a resource<ept id="p1">**</ept>.</source>
        </trans-unit><trans-unit id="111" translate="yes" xml:space="preserve">
          <source>Select <bpt id="p1">**</bpt>Web<ept id="p1">**</ept><ph id="ph1"> &gt; </ph><bpt id="p2">**</bpt>Web App<ept id="p2">**</ept>.</source>
        </trans-unit><trans-unit id="112" translate="yes" xml:space="preserve">
          <source>Fill out the form like this:</source>
        </trans-unit><trans-unit id="113" translate="yes" xml:space="preserve">
          <source>Field</source>
        </trans-unit><trans-unit id="114" translate="yes" xml:space="preserve">
          <source>Value</source>
        </trans-unit><trans-unit id="115" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>App name<ept id="p1">**</ept></source>
        </trans-unit><trans-unit id="116" translate="yes" xml:space="preserve">
          <source>Enter a unique name for the site.</source>
        </trans-unit><trans-unit id="117" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Subscription<ept id="p1">**</ept></source>
        </trans-unit><trans-unit id="118" translate="yes" xml:space="preserve">
          <source>Select <bpt id="p1">**</bpt>Concierge Subscription<ept id="p1">**</ept>.</source>
        </trans-unit><trans-unit id="119" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Resource Group<ept id="p1">**</ept></source>
        </trans-unit><trans-unit id="120" translate="yes" xml:space="preserve">
          <source>Select <bpt id="p1">**</bpt>use existing<ept id="p1">**</ept> and choose your sandbox resource group.</source>
        </trans-unit><trans-unit id="121" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>OS<ept id="p1">**</ept></source>
        </trans-unit><trans-unit id="122" translate="yes" xml:space="preserve">
          <source>Select <bpt id="p1">**</bpt>Windows<ept id="p1">**</ept>.</source>
        </trans-unit><trans-unit id="123" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Publish<ept id="p1">**</ept></source>
        </trans-unit><trans-unit id="124" translate="yes" xml:space="preserve">
          <source>Select <bpt id="p1">**</bpt>Code<ept id="p1">**</ept>.</source>
        </trans-unit><trans-unit id="125" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>App Service plan/Location<ept id="p1">**</ept></source>
        </trans-unit><trans-unit id="126" translate="yes" xml:space="preserve">
          <source>Leave the default value.</source>
        </trans-unit><trans-unit id="127" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Application Insights<ept id="p1">**</ept></source>
        </trans-unit><trans-unit id="128" translate="yes" xml:space="preserve">
          <source>Leave the default value.</source>
        </trans-unit><trans-unit id="129" translate="yes" xml:space="preserve">
          <source>Select <bpt id="p1">**</bpt>Create<ept id="p1">**</ept>.</source>
        </trans-unit><trans-unit id="130" translate="yes" xml:space="preserve">
          <source>Azure creates the web app and the production deployment slot.</source>
        </trans-unit><trans-unit id="131" translate="yes" xml:space="preserve">
          <source>Create a web app</source>
        </trans-unit><trans-unit id="132" translate="yes" xml:space="preserve">
          <source>Configure git deployment</source>
        </trans-unit><trans-unit id="133" translate="yes" xml:space="preserve">
          <source>Use any of the usual deployment tools for your web app and its deployment slots.</source>
        </trans-unit><trans-unit id="134" translate="yes" xml:space="preserve">
          <source>In this exercise, you'll use a local git repository for deployment.</source>
        </trans-unit><trans-unit id="135" translate="yes" xml:space="preserve">
          <source>Set up the web app to use git by following these steps:</source>
        </trans-unit><trans-unit id="136" translate="yes" xml:space="preserve">
          <source>In the Azure portal, on the left, select <bpt id="p1">**</bpt>All resources<ept id="p1">**</ept> and then select the web app you created.</source>
        </trans-unit><trans-unit id="137" translate="yes" xml:space="preserve">
          <source>On the <bpt id="p1">**</bpt>App Service<ept id="p1">**</ept> page, under <bpt id="p2">**</bpt>Deployment<ept id="p2">**</ept>, select <bpt id="p3">**</bpt>Deployment Center<ept id="p3">**</ept>.</source>
        </trans-unit><trans-unit id="138" translate="yes" xml:space="preserve">
          <source>Select <bpt id="p1">**</bpt>Local Git<ept id="p1">**</ept><ph id="ph1"> &gt; </ph><bpt id="p2">**</bpt>Continue<ept id="p2">**</ept>.</source>
        </trans-unit><trans-unit id="139" translate="yes" xml:space="preserve">
          <source>Select <bpt id="p1">**</bpt>App Service Kudu build server<ept id="p1">**</ept><ph id="ph1"> &gt; </ph><bpt id="p2">**</bpt>Continue<ept id="p2">**</ept><ph id="ph2"> &gt; </ph><bpt id="p3">**</bpt>Finish<ept id="p3">**</ept>.</source>
        </trans-unit><trans-unit id="140" translate="yes" xml:space="preserve">
          <source>On the <bpt id="p1">**</bpt>Deployment Center<ept id="p1">**</ept> page, select <bpt id="p2">**</bpt>Deployment Credentials<ept id="p2">**</ept>, and then select the <bpt id="p3">**</bpt>User Credentials<ept id="p3">**</ept> tab.</source>
        </trans-unit><trans-unit id="141" translate="yes" xml:space="preserve">
          <source>Enter a new password and save the credentials.</source>
        </trans-unit><trans-unit id="142" translate="yes" xml:space="preserve">
          <source>Note the password for later.</source>
        </trans-unit><trans-unit id="143" translate="yes" xml:space="preserve">
          <source>Configure the git client and clone the web app source code</source>
        </trans-unit><trans-unit id="144" translate="yes" xml:space="preserve">
          <source>Now you'll set up the git client in Cloud Shell and use it to clone a sample web app.</source>
        </trans-unit><trans-unit id="145" translate="yes" xml:space="preserve">
          <source>Follow these steps:</source>
        </trans-unit><trans-unit id="146" translate="yes" xml:space="preserve">
          <source>On the right side of the Cloud Shell window, enter the following commands to set up your git username and email address.</source>
        </trans-unit><trans-unit id="147" translate="yes" xml:space="preserve">
          <source>These commands aren't associated with any account or sign-up, and you can use whatever values you like.</source>
        </trans-unit><trans-unit id="148" translate="yes" xml:space="preserve">
          <source>To create a folder for the source code, enter the following commands:</source>
        </trans-unit><trans-unit id="149" translate="yes" xml:space="preserve">
          <source>To clone the source for the web app, enter the following commands:</source>
        </trans-unit><trans-unit id="150" translate="yes" xml:space="preserve">
          <source>Configure a git remote to deploy the app to production</source>
        </trans-unit><trans-unit id="151" translate="yes" xml:space="preserve">
          <source>To use git to deploy the source code to the web app's production slot, set up your app's git URL as a remote repository.</source>
        </trans-unit><trans-unit id="152" translate="yes" xml:space="preserve">
          <source>Follow these steps:</source>
        </trans-unit><trans-unit id="153" translate="yes" xml:space="preserve">
          <source>In the Azure portal, on the web app's <bpt id="p1">**</bpt>Overview<ept id="p1">**</ept> page, next to <bpt id="p2">**</bpt>Git clone url<ept id="p2">**</ept>, select the <bpt id="p3">**</bpt>Copy<ept id="p3">**</ept> button.</source>
        </trans-unit><trans-unit id="154" translate="yes" xml:space="preserve">
          <source>Copy the git clone URL</source>
        </trans-unit><trans-unit id="155" translate="yes" xml:space="preserve">
          <source>If you don't see the git clone URL where it's shown in the preceding screenshot, refresh the portal.</source>
        </trans-unit><trans-unit id="156" translate="yes" xml:space="preserve">
          <source>In Cloud Shell, run the following command to configure the URL as a git remote named "production".</source>
        </trans-unit><trans-unit id="157" translate="yes" xml:space="preserve">
          <source>Replace <ph id="ph1">`git-clone-url`</ph> with the URL from the previous step.</source>
        </trans-unit><trans-unit id="158" translate="yes" xml:space="preserve">
          <source>To deploy the web app to the production slot, enter the following command.</source>
        </trans-unit><trans-unit id="159" translate="yes" xml:space="preserve">
          <source>When you're prompted for the password, enter <bpt id="p1">**</bpt>Pa$$w0rd<ept id="p1">**</ept>.</source>
        </trans-unit><trans-unit id="160" translate="yes" xml:space="preserve">
          <source>When the deployment finishes, in the Azure portal, go to the web app's <bpt id="p1">**</bpt>Overview<ept id="p1">**</ept> page and then select <bpt id="p2">**</bpt>Browse<ept id="p2">**</ept>.</source>
        </trans-unit><trans-unit id="161" translate="yes" xml:space="preserve">
          <source>Azure displays the web app:</source>
        </trans-unit><trans-unit id="162" translate="yes" xml:space="preserve">
          <source>The web app in the production slot</source>
        </trans-unit><trans-unit id="163" translate="yes" xml:space="preserve">
          <source>Close the browser tab that displays the web app.</source>
        </trans-unit><trans-unit id="164" translate="yes" xml:space="preserve">
          <source>Create a new staging slot</source>
        </trans-unit><trans-unit id="165" translate="yes" xml:space="preserve">
          <source>For the new the web app, you created only one slot: the production slot.</source>
        </trans-unit><trans-unit id="166" translate="yes" xml:space="preserve">
          <source>You deployed source code to this slot.</source>
        </trans-unit><trans-unit id="167" translate="yes" xml:space="preserve">
          <source>Next you'll create a deployment slot where you can stage new versions of the web app:</source>
        </trans-unit><trans-unit id="168" translate="yes" xml:space="preserve">
          <source>In the Azure portal, select <bpt id="p1">**</bpt>All resources<ept id="p1">**</ept> and then select the web app.</source>
        </trans-unit><trans-unit id="169" translate="yes" xml:space="preserve">
          <source>Under <bpt id="p1">**</bpt>Deployment<ept id="p1">**</ept>, select <bpt id="p2">**</bpt>Deployment slots<ept id="p2">**</ept>.</source>
        </trans-unit><trans-unit id="170" translate="yes" xml:space="preserve">
          <source>Access deployment slots</source>
        </trans-unit><trans-unit id="171" translate="yes" xml:space="preserve">
          <source>On the <bpt id="p1">**</bpt>Deployment slots<ept id="p1">**</ept> page, select <bpt id="p2">**</bpt>Add slot<ept id="p2">**</ept>.</source>
        </trans-unit><trans-unit id="172" translate="yes" xml:space="preserve">
          <source>In the <bpt id="p1">**</bpt>Name<ept id="p1">**</ept> box, enter <bpt id="p2">**</bpt>Staging<ept id="p2">**</ept> and then select <bpt id="p3">**</bpt>Add<ept id="p3">**</ept>.</source>
        </trans-unit><trans-unit id="173" translate="yes" xml:space="preserve">
          <source>After the deployment slot is added, select <bpt id="p1">**</bpt>Close<ept id="p1">**</ept>.</source>
        </trans-unit><trans-unit id="174" translate="yes" xml:space="preserve">
          <source>Set up git deployment for the staging slot</source>
        </trans-unit><trans-unit id="175" translate="yes" xml:space="preserve">
          <source>Set up the new slot to use git deployment, just like you did for the production slot.</source>
        </trans-unit><trans-unit id="176" translate="yes" xml:space="preserve">
          <source>Follow these steps:</source>
        </trans-unit><trans-unit id="177" translate="yes" xml:space="preserve">
          <source>In the Azure portal, on the left, select <bpt id="p1">**</bpt>All resources<ept id="p1">**</ept>.</source>
        </trans-unit><trans-unit id="178" translate="yes" xml:space="preserve">
          <source>In the list of all resources, you'll see both the production web app and the staging slot.</source>
        </trans-unit><trans-unit id="179" translate="yes" xml:space="preserve">
          <source>These are represented as separate apps.</source>
        </trans-unit><trans-unit id="180" translate="yes" xml:space="preserve">
          <source>Select the staging slot to go to its <bpt id="p1">**</bpt>Overview<ept id="p1">**</ept> page.</source>
        </trans-unit><trans-unit id="181" translate="yes" xml:space="preserve">
          <source>Under <bpt id="p1">**</bpt>Deployment<ept id="p1">**</ept>, select <bpt id="p2">**</bpt>Deployment Center<ept id="p2">**</ept>.</source>
        </trans-unit><trans-unit id="182" translate="yes" xml:space="preserve">
          <source>Select <bpt id="p1">**</bpt>Local Git<ept id="p1">**</ept><ph id="ph1"> &gt; </ph><bpt id="p2">**</bpt>Continue<ept id="p2">**</ept>.</source>
        </trans-unit><trans-unit id="183" translate="yes" xml:space="preserve">
          <source>Select <bpt id="p1">**</bpt>App Service Kudu build server<ept id="p1">**</ept><ph id="ph1"> &gt; </ph><bpt id="p2">**</bpt>Continue<ept id="p2">**</ept><ph id="ph2"> &gt; </ph><bpt id="p3">**</bpt>Finish<ept id="p3">**</ept>.</source>
        </trans-unit><trans-unit id="184" translate="yes" xml:space="preserve">
          <source>Set up git to deploy the app to the staging slot</source>
        </trans-unit><trans-unit id="185" translate="yes" xml:space="preserve">
          <source>To use the git client to deploy source code to the new slot, add an extra remote to the git configuration.</source>
        </trans-unit><trans-unit id="186" translate="yes" xml:space="preserve">
          <source>Follow these steps:</source>
        </trans-unit><trans-unit id="187" translate="yes" xml:space="preserve">
          <source>In the Azure portal, go to the <bpt id="p1">**</bpt>Overview<ept id="p1">**</ept> page of the staging slot.</source>
        </trans-unit><trans-unit id="188" translate="yes" xml:space="preserve">
          <source>Near the top of the page, next to <bpt id="p1">**</bpt>Git clone url<ept id="p1">**</ept>, select the <bpt id="p2">**</bpt>Copy<ept id="p2">**</ept> button.</source>
        </trans-unit><trans-unit id="189" translate="yes" xml:space="preserve">
          <source>The git URL for the staging slot is slightly different from the URL for the production slot.</source>
        </trans-unit><trans-unit id="190" translate="yes" xml:space="preserve">
          <source>To add the remote for the staging slot, enter the following command.</source>
        </trans-unit><trans-unit id="191" translate="yes" xml:space="preserve">
          <source>Paste the git clone URL to replace the token.</source>
        </trans-unit><trans-unit id="192" translate="yes" xml:space="preserve">
          <source>Modify the app source code and deploy the app to the staging slot</source>
        </trans-unit><trans-unit id="193" translate="yes" xml:space="preserve">
          <source>Next, make a small change to the web app and then use git to deploy the new version to the staging slot:</source>
        </trans-unit><trans-unit id="194" translate="yes" xml:space="preserve">
          <source>In Cloud Shell, enter the following command:</source>
        </trans-unit><trans-unit id="195" translate="yes" xml:space="preserve">
          <source>In the list of <bpt id="p1">**</bpt>Files<ept id="p1">**</ept>, expand <bpt id="p2">**</bpt>aspnet-get-started<ept id="p2">**</ept><ph id="ph1"> &gt; </ph><bpt id="p3">**</bpt>Views<ept id="p3">**</ept><ph id="ph2"> &gt; </ph><bpt id="p4">**</bpt>Home<ept id="p4">**</ept>.</source>
        </trans-unit><trans-unit id="196" translate="yes" xml:space="preserve">
          <source>Select <bpt id="p1">**</bpt>Index.cshtml<ept id="p1">**</ept>.</source>
        </trans-unit><trans-unit id="197" translate="yes" xml:space="preserve">
          <source>Locate the following code:</source>
        </trans-unit><trans-unit id="198" translate="yes" xml:space="preserve">
          <source>Replace that code with this code:</source>
        </trans-unit><trans-unit id="199" translate="yes" xml:space="preserve">
          <source>To save your changes, press CTRL+S.</source>
        </trans-unit><trans-unit id="200" translate="yes" xml:space="preserve">
          <source>In Cloud Shell, enter the following commands to commit the new version of the app to git and deploy it to the staging slot.</source>
        </trans-unit><trans-unit id="201" translate="yes" xml:space="preserve">
          <source>Enter your deployment password when you're prompted.</source>
        </trans-unit><trans-unit id="202" translate="yes" xml:space="preserve">
          <source>Browse the staging slot</source>
        </trans-unit><trans-unit id="203" translate="yes" xml:space="preserve">
          <source>Now you can view the new version of the web app by browsing to the staging deployment slot's URL.</source>
        </trans-unit><trans-unit id="204" translate="yes" xml:space="preserve">
          <source>In the Azure portal, go to the <bpt id="p1">**</bpt>Overview<ept id="p1">**</ept> page for the staging slot.</source>
        </trans-unit><trans-unit id="205" translate="yes" xml:space="preserve">
          <source>Near the top of the page, select the <bpt id="p1">**</bpt>Browse<ept id="p1">**</ept> button.</source>
        </trans-unit><trans-unit id="206" translate="yes" xml:space="preserve">
          <source>The new version of the web app appears in a browser tab:</source>
        </trans-unit><trans-unit id="207" translate="yes" xml:space="preserve">
          <source>The updated web app in the staging slot</source>
        </trans-unit><trans-unit id="208" translate="yes" xml:space="preserve">
          <source>At this point, the staging slot has the new version of the code, and you can run tests on it.</source>
        </trans-unit><trans-unit id="209" translate="yes" xml:space="preserve">
          <source>Remember that the production slot has the previous web app version, and users can't yet see your new code.</source>
        </trans-unit></group></body></file></xliff>