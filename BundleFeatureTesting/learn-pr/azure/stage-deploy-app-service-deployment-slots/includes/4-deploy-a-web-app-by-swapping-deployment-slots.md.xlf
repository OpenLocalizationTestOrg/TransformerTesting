<?xml version="1.0"?><xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd"><file datatype="xml" original="4-deploy-a-web-app-by-swapping-deployment-slots.md" source-language="en-US" target-language="en-US"><header><tool tool-id="mdxliff" tool-name="mdxliff"  tool-company="Microsoft" /><xliffext:skl_file_name xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">4-deploy-a-web-app-by-swapping-deployment-slots.4d6bd5.46d3649f6812698e76bfe040e9f301c27e6c5fb2.skl</xliffext:skl_file_name><xliffext:version xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">1.2</xliffext:version><xliffext:ms.openlocfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">46d3649f6812698e76bfe040e9f301c27e6c5fb2</xliffext:ms.openlocfilehash><xliffext:ms.sourcegitcommit xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">ba7e452ac39d7f09a5646044b44de0e1cdc54982</xliffext:ms.sourcegitcommit><xliffext:ms.openlocfilepath xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">learn-pr\azure\stage-deploy-app-service-deployment-slots\includes\4-deploy-a-web-app-by-swapping-deployment-slots.md</xliffext:ms.openlocfilepath></header><body><group id="content" extype="content"><trans-unit id="101" translate="yes" xml:space="preserve">
          <source>When you swap slots, you can precisely control the behavior and configuration of web apps.</source>
        </trans-unit><trans-unit id="102" translate="yes" xml:space="preserve">
          <source>Suppose you've set up deployment slots for production and staging.</source>
        </trans-unit><trans-unit id="103" translate="yes" xml:space="preserve">
          <source>You've tested a new version of your social media web app in the staging slot.</source>
        </trans-unit><trans-unit id="104" translate="yes" xml:space="preserve">
          <source>Now it's time to deploy that new version to production.</source>
        </trans-unit><trans-unit id="105" translate="yes" xml:space="preserve">
          <source>You want to deploy the app smoothly and in the correct configuration.</source>
        </trans-unit><trans-unit id="106" translate="yes" xml:space="preserve">
          <source>Here you'll learn the correct configuration to swap the web app into production.</source>
        </trans-unit><trans-unit id="107" translate="yes" xml:space="preserve">
          <source>Manage the configuration for a swap</source>
        </trans-unit><trans-unit id="108" translate="yes" xml:space="preserve">
          <source>When you swap two slots, the app's configuration travels to the new slot along with the app.</source>
        </trans-unit><trans-unit id="109" translate="yes" xml:space="preserve">
          <source>You can override this behavior for individual application settings and configuration strings by configuring them as <bpt id="p1">**</bpt>slot settings<ept id="p1">**</ept>.</source>
        </trans-unit><trans-unit id="110" translate="yes" xml:space="preserve">
          <source>Suppose, for example, you have two databases.</source>
        </trans-unit><trans-unit id="111" translate="yes" xml:space="preserve">
          <source>You use one for production and the other for acceptance testing.</source>
        </trans-unit><trans-unit id="112" translate="yes" xml:space="preserve">
          <source>You always want the app version in the staging slot to use the testing database.</source>
        </trans-unit><trans-unit id="113" translate="yes" xml:space="preserve">
          <source>The app version in the production slot should always use the production database.</source>
        </trans-unit><trans-unit id="114" translate="yes" xml:space="preserve">
          <source>To achieve this, you can configure the database connection string as a slot setting.</source>
        </trans-unit><trans-unit id="115" translate="yes" xml:space="preserve">
          <source>Configure slot settings</source>
        </trans-unit><trans-unit id="116" translate="yes" xml:space="preserve">
          <source>To configure settings for the swap, go to the web app resource and follow these steps:</source>
        </trans-unit><trans-unit id="117" translate="yes" xml:space="preserve">
          <source>On the <bpt id="p1">**</bpt>Deployment Slots<ept id="p1">**</ept> page, select the deployment slot you want to configure.</source>
        </trans-unit><trans-unit id="118" translate="yes" xml:space="preserve">
          <source>Select the <bpt id="p1">**</bpt>Application Settings<ept id="p1">**</ept> page for the deployment slot.</source>
        </trans-unit><trans-unit id="119" translate="yes" xml:space="preserve">
          <source>Scroll down to <bpt id="p1">**</bpt>Application settings<ept id="p1">**</ept> and <bpt id="p2">**</bpt>Connection strings<ept id="p2">**</ept>.</source>
        </trans-unit><trans-unit id="120" translate="yes" xml:space="preserve">
          <source>To make one of these a slot setting, select the check box under <bpt id="p1">**</bpt>Slot Setting<ept id="p1">**</ept>:</source>
        </trans-unit><trans-unit id="121" translate="yes" xml:space="preserve">
          <source>Configure slot settings</source>
        </trans-unit><trans-unit id="122" translate="yes" xml:space="preserve">
          <source>Swap slots in the Azure portal</source>
        </trans-unit><trans-unit id="123" translate="yes" xml:space="preserve">
          <source>To swap two slots in the Azure portal:</source>
        </trans-unit><trans-unit id="124" translate="yes" xml:space="preserve">
          <source>Open the resource page for the web app and select the <bpt id="p1">**</bpt>Deployment Slots<ept id="p1">**</ept> page.</source>
        </trans-unit><trans-unit id="125" translate="yes" xml:space="preserve">
          <source>Select <bpt id="p1">**</bpt>Swap<ept id="p1">**</ept>.</source>
        </trans-unit><trans-unit id="126" translate="yes" xml:space="preserve">
          <source>In the <bpt id="p1">**</bpt>Swap<ept id="p1">**</ept> dialog box, you can select the source and target slots and see a summary of the settings that will be applied to the swapped slots:</source>
        </trans-unit><trans-unit id="127" translate="yes" xml:space="preserve">
          <source>Swapping two slots</source>
        </trans-unit><trans-unit id="128" translate="yes" xml:space="preserve">
          <source>Understand the slot-swapping preview</source>
        </trans-unit><trans-unit id="129" translate="yes" xml:space="preserve">
          <source>When you swap slots, the settings in the target slot (which is typically the production slot) are applied to the app version in the source slot before the host names are swapped.</source>
        </trans-unit><trans-unit id="130" translate="yes" xml:space="preserve">
          <source>You might discover problems at this point.</source>
        </trans-unit><trans-unit id="131" translate="yes" xml:space="preserve">
          <source>For example, if the database connection string is configured as a slot setting, the new version of the web app will use the existing production database.</source>
        </trans-unit><trans-unit id="132" translate="yes" xml:space="preserve">
          <source>If you forgot to upgrade the database schema in the production database before the swap, you could see errors and exceptions when the new app version attempts to use the old schema.</source>
        </trans-unit><trans-unit id="133" translate="yes" xml:space="preserve">
          <source>To help you discover problems before your app goes live into production, Azure App Service offers a swap-with-preview feature.</source>
        </trans-unit><trans-unit id="134" translate="yes" xml:space="preserve">
          <source>When you choose this option, the swap proceeds in two phases:</source>
        </trans-unit><trans-unit id="135" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Phase 1<ept id="p1">**</ept>: Slot settings from the target slot are applied to the web app in the source slot.</source>
        </trans-unit><trans-unit id="136" translate="yes" xml:space="preserve">
          <source>Then Azure warms up the staging slot.</source>
        </trans-unit><trans-unit id="137" translate="yes" xml:space="preserve">
          <source>At this point, the swap operation pauses so you can test the app in the source slot to make sure it works with the target slot configuration.</source>
        </trans-unit><trans-unit id="138" translate="yes" xml:space="preserve">
          <source>If you find no problems, begin the next phase.</source>
        </trans-unit><trans-unit id="139" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Phase 2<ept id="p1">**</ept>: The host names for the two sites are swapped.</source>
        </trans-unit><trans-unit id="140" translate="yes" xml:space="preserve">
          <source>The version of the app now in the source slot receives its slot settings.</source>
        </trans-unit><trans-unit id="141" translate="yes" xml:space="preserve">
          <source>Test your web app thoroughly while it's in the staging slot.</source>
        </trans-unit><trans-unit id="142" translate="yes" xml:space="preserve">
          <source>Eliminate code bugs and problems with non-slot settings.</source>
        </trans-unit><trans-unit id="143" translate="yes" xml:space="preserve">
          <source>The swap-with-preview feature can only help you spot and eliminate problems caused by the production slot settings.</source>
        </trans-unit><trans-unit id="144" translate="yes" xml:space="preserve">
          <source>Make sure everything else is sound before you start any kind of swap into production.</source>
        </trans-unit><trans-unit id="145" translate="yes" xml:space="preserve">
          <source>Preview slot swapping</source>
        </trans-unit><trans-unit id="146" translate="yes" xml:space="preserve">
          <source>To use the swap-with-preview feature, select <bpt id="p1">**</bpt>Perform swap with preview<ept id="p1">**</ept>, review the settings, and then select <bpt id="p2">**</bpt>Start Swap<ept id="p2">**</ept>.</source>
        </trans-unit><trans-unit id="147" translate="yes" xml:space="preserve">
          <source>Swap two slots and see a preview</source>
        </trans-unit><trans-unit id="148" translate="yes" xml:space="preserve">
          <source>Follow the link to preview the new version of the site.</source>
        </trans-unit><trans-unit id="149" translate="yes" xml:space="preserve">
          <source>In the preview, the slot settings from the destination slot are applied.</source>
        </trans-unit><trans-unit id="150" translate="yes" xml:space="preserve">
          <source>If you want to continue, select <bpt id="p1">**</bpt>Complete Swap<ept id="p1">**</ept>.</source>
        </trans-unit><trans-unit id="151" translate="yes" xml:space="preserve">
          <source>Swap automatically</source>
        </trans-unit><trans-unit id="152" translate="yes" xml:space="preserve">
          <source>Auto swap brings the zero-downtime and easy rollback benefits of swap-based deployment to automated deployment pipelines.</source>
        </trans-unit><trans-unit id="153" translate="yes" xml:space="preserve">
          <source>When you configure a slot for auto swap, Azure automatically swaps it whenever you push code or content into that slot.</source>
        </trans-unit><trans-unit id="154" translate="yes" xml:space="preserve">
          <source>When you use auto swap, you can't test the new app version in the staging slot before the swap.</source>
        </trans-unit><trans-unit id="155" translate="yes" xml:space="preserve">
          <source>Auto swap mainly benefits users who want zero-downtime deployments and simple automated deployment pipelines.</source>
        </trans-unit><trans-unit id="156" translate="yes" xml:space="preserve">
          <source>If you want to be able to test before you swap, you'll need a more complex deployment pipeline that requests the slot swap itself.</source>
        </trans-unit><trans-unit id="157" translate="yes" xml:space="preserve">
          <source>Alternatively, you can deploy to a separate slot that's dedicated for testing.</source>
        </trans-unit><trans-unit id="158" translate="yes" xml:space="preserve">
          <source>Auto swap is not available in App Service on Linux.</source>
        </trans-unit><trans-unit id="159" translate="yes" xml:space="preserve">
          <source>Configure auto swap</source>
        </trans-unit><trans-unit id="160" translate="yes" xml:space="preserve">
          <source>You can configure auto swap on the slot's <bpt id="p1">**</bpt>Application settings<ept id="p1">**</ept> page.</source>
        </trans-unit><trans-unit id="161" translate="yes" xml:space="preserve">
          <source>Under <bpt id="p1">**</bpt>General settings<ept id="p1">**</ept>, turn on auto swap and configure where to swap to when new code is pushed:</source>
        </trans-unit><trans-unit id="162" translate="yes" xml:space="preserve">
          <source>Configure auto swap</source>
        </trans-unit></group></body></file></xliff>