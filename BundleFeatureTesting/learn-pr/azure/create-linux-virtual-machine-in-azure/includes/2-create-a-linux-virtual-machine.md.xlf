<?xml version="1.0"?><xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd"><file datatype="xml" original="2-create-a-linux-virtual-machine.md" source-language="en-US" target-language="en-US"><header><tool tool-id="mdxliff" tool-name="mdxliff"  tool-company="Microsoft" /><xliffext:skl_file_name xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">2-create-a-linux-virtual-machine.b143e2.3293ddbe51df06281aa727a86765ef044cd353fe.skl</xliffext:skl_file_name><xliffext:version xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">1.2</xliffext:version><xliffext:ms.openlocfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">3293ddbe51df06281aa727a86765ef044cd353fe</xliffext:ms.openlocfilehash><xliffext:ms.sourcegitcommit xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">ba7e452ac39d7f09a5646044b44de0e1cdc54982</xliffext:ms.sourcegitcommit><xliffext:ms.openlocfilepath xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">learn-pr\azure\create-linux-virtual-machine-in-azure\includes\2-create-a-linux-virtual-machine.md</xliffext:ms.openlocfilepath></header><body><group id="content" extype="content"><trans-unit id="101" translate="yes" xml:space="preserve">
          <source>We have an existing website running on a local Ubuntu Linux server.</source>
        </trans-unit><trans-unit id="102" translate="yes" xml:space="preserve">
          <source>Our goal is to create an Azure virtual machine (VM) using the latest Ubuntu image and then migrate the site to the cloud.</source>
        </trans-unit><trans-unit id="103" translate="yes" xml:space="preserve">
          <source>In this unit, you will learn about the options you will need to evaluate when creating a virtual machine in Azure.</source>
        </trans-unit><trans-unit id="104" translate="yes" xml:space="preserve">
          <source>Introduction to Azure Virtual Machines</source>
        </trans-unit><trans-unit id="105" translate="yes" xml:space="preserve">
          <source>Azure Virtual Machines is an on-demand, scalable cloud-computing resource.</source>
        </trans-unit><trans-unit id="106" translate="yes" xml:space="preserve">
          <source>They include processors, memory, storage, and networking resources.</source>
        </trans-unit><trans-unit id="107" translate="yes" xml:space="preserve">
          <source>You can start and stop virtual machines at will and manage them from the Azure portal or with the Azure CLI.</source>
        </trans-unit><trans-unit id="108" translate="yes" xml:space="preserve">
          <source>You can also use a remote Secure Shell (SSH) to connect directly to the running VM and execute commands as if you were on a local computer.</source>
        </trans-unit><trans-unit id="109" translate="yes" xml:space="preserve">
          <source>Running Linux in Azure</source>
        </trans-unit><trans-unit id="110" translate="yes" xml:space="preserve">
          <source>Creating Linux-based VMs in Azure is easy.</source>
        </trans-unit><trans-unit id="111" translate="yes" xml:space="preserve">
          <source>Microsoft has partnered with prominent Linux vendors to ensure their distributions are optimized for the Azure platform.</source>
        </trans-unit><trans-unit id="112" translate="yes" xml:space="preserve">
          <source>You can create virtual machines from prebuilt images for a variety of popular Linux distributions, such as SUSE, Red Hat, and Ubuntu, or build your own Linux distribution to run in the cloud.</source>
        </trans-unit><trans-unit id="113" translate="yes" xml:space="preserve">
          <source>Creating an Azure VM</source>
        </trans-unit><trans-unit id="114" translate="yes" xml:space="preserve">
          <source>VMs can be defined and deployed on Azure in several ways: the Azure portal, a script (using the Azure CLI or Azure PowerShell), or an Azure Resource Manager template.</source>
        </trans-unit><trans-unit id="115" translate="yes" xml:space="preserve">
          <source>In all cases, you will need to supply several pieces of information that we'll cover shortly.</source>
        </trans-unit><trans-unit id="116" translate="yes" xml:space="preserve">
          <source>The Azure Marketplace also provides preconfigured images that include both an OS and favorite software tools installed for specific scenarios.</source>
        </trans-unit><trans-unit id="117" translate="yes" xml:space="preserve">
          <source>Screenshot of the Azure portal showing several virtual machine options in the Azure Marketplace.</source>
        </trans-unit><trans-unit id="118" translate="yes" xml:space="preserve">
          <source>Resources used in a Linux VM</source>
        </trans-unit><trans-unit id="119" translate="yes" xml:space="preserve">
          <source>When creating a Linux VM in Azure, you also create resources to host the VM.</source>
        </trans-unit><trans-unit id="120" translate="yes" xml:space="preserve">
          <source>These resources work together to virtualize a computer and run the Linux operating system.</source>
        </trans-unit><trans-unit id="121" translate="yes" xml:space="preserve">
          <source>These must exist (and be selected during VM creation), or they will be created with the VM:</source>
        </trans-unit><trans-unit id="122" translate="yes" xml:space="preserve">
          <source>A virtual machine that provides CPU and memory resources</source>
        </trans-unit><trans-unit id="123" translate="yes" xml:space="preserve">
          <source>An Azure Storage account to hold the virtual hard disks</source>
        </trans-unit><trans-unit id="124" translate="yes" xml:space="preserve">
          <source>Virtual disks to hold the OS, applications, and data</source>
        </trans-unit><trans-unit id="125" translate="yes" xml:space="preserve">
          <source>A virtual network (VNet) to connect the VM to other Azure services or your on-premises hardware</source>
        </trans-unit><trans-unit id="126" translate="yes" xml:space="preserve">
          <source>A network interface to communicate with the VNet</source>
        </trans-unit><trans-unit id="127" translate="yes" xml:space="preserve">
          <source>An optional public IP address so you can access the VM</source>
        </trans-unit><trans-unit id="128" translate="yes" xml:space="preserve">
          <source>Like other Azure services, you'll need a <bpt id="p1">**</bpt>Resource Group<ept id="p1">**</ept> to contain the VM (and optionally group these resources for administration).</source>
        </trans-unit><trans-unit id="129" translate="yes" xml:space="preserve">
          <source>When you create a new VM, you can either use an existing resource group or create a new one.</source>
        </trans-unit><trans-unit id="130" translate="yes" xml:space="preserve">
          <source>Choose the VM image</source>
        </trans-unit><trans-unit id="131" translate="yes" xml:space="preserve">
          <source>Selecting an image is one of the first and most important decisions you'll make when creating a VM.</source>
        </trans-unit><trans-unit id="132" translate="yes" xml:space="preserve">
          <source>An image is a template that's used to create a VM.</source>
        </trans-unit><trans-unit id="133" translate="yes" xml:space="preserve">
          <source>These templates include an OS and often other software, such as development tools or web hosting environments.</source>
        </trans-unit><trans-unit id="134" translate="yes" xml:space="preserve">
          <source>Anything that a computer can have installed can be included in an image.</source>
        </trans-unit><trans-unit id="135" translate="yes" xml:space="preserve">
          <source>You can create a VM from an image that's preconfigured to precisely the tasks you need, such as hosting a web app on the Apache HTTP Server.</source>
        </trans-unit><trans-unit id="136" translate="yes" xml:space="preserve">
          <source>You can also create and upload custom disk images.</source>
        </trans-unit><trans-unit id="137" translate="yes" xml:space="preserve">
          <source>Sizing your VM</source>
        </trans-unit><trans-unit id="138" translate="yes" xml:space="preserve">
          <source>Just as a physical machine has a certain amount of memory and CPU power, so does a virtual machine.</source>
        </trans-unit><trans-unit id="139" translate="yes" xml:space="preserve">
          <source>Azure offers a range of VMs of differing sizes at different price points.</source>
        </trans-unit><trans-unit id="140" translate="yes" xml:space="preserve">
          <source>The size that you choose will determine the VM's processing power, memory, and maximum storage capacity.</source>
        </trans-unit><trans-unit id="141" translate="yes" xml:space="preserve">
          <source>There are quota limits on each subscription that can impact VM creation.</source>
        </trans-unit><trans-unit id="142" translate="yes" xml:space="preserve">
          <source>If you run into these quota limits you can <bpt id="p1">[</bpt>open an online customer support request<ept id="p1">](https://docs.microsoft.com/azure/azure-supportability/resource-manager-core-quotas-request)</ept> to increase your limits.</source>
        </trans-unit><trans-unit id="143" translate="yes" xml:space="preserve">
          <source>VM sizes are grouped into categories, starting with the B-series for basic testing and running up to the H-series for massive computing tasks.</source>
        </trans-unit><trans-unit id="144" translate="yes" xml:space="preserve">
          <source>You should select the size of the VM based on the workload you want to perform.</source>
        </trans-unit><trans-unit id="145" translate="yes" xml:space="preserve">
          <source>It is possible to change the size of a VM after it's been created, but the VM must be stopped first.</source>
        </trans-unit><trans-unit id="146" translate="yes" xml:space="preserve">
          <source>So, it's best to size it appropriately from the start if possible.</source>
        </trans-unit><trans-unit id="147" translate="yes" xml:space="preserve">
          <source>Here are some guidelines based on the scenario you are targeting</source>
        </trans-unit><trans-unit id="148" translate="yes" xml:space="preserve">
          <source>What are you doing?</source>
        </trans-unit><trans-unit id="149" translate="yes" xml:space="preserve">
          <source>Consider these sizes</source>
        </trans-unit><trans-unit id="150" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>General use computing/web<ept id="p1">**</ept>: Testing and development, small to medium databases, or low to medium traffic web servers.</source>
        </trans-unit><trans-unit id="151" translate="yes" xml:space="preserve">
          <source>B, Dsv3, Dv3, DSv2, Dv2</source>
        </trans-unit><trans-unit id="152" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Heavy computational tasks<ept id="p1">**</ept>: Medium traffic web servers, network appliances, batch processes, and application servers.</source>
        </trans-unit><trans-unit id="153" translate="yes" xml:space="preserve">
          <source>Fsv2, Fs, F</source>
        </trans-unit><trans-unit id="154" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Large memory usage<ept id="p1">**</ept>: Relational database servers, medium to large caches, and in-memory analytics.</source>
        </trans-unit><trans-unit id="155" translate="yes" xml:space="preserve">
          <source>Esv3, Ev3, M, GS, G, DSv2, Dv2</source>
        </trans-unit><trans-unit id="156" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Data storage and processing<ept id="p1">**</ept>: Big data, SQL, and NoSQL databases that need high disk throughput and I/O.</source>
        </trans-unit><trans-unit id="157" translate="yes" xml:space="preserve">
          <source>Ls</source>
        </trans-unit><trans-unit id="158" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Heavy graphics rendering<ept id="p1">**</ept> or video editing, as well as model training and inferencing (ND) with deep learning.</source>
        </trans-unit><trans-unit id="159" translate="yes" xml:space="preserve">
          <source>NV, NC, NCv2, NCv3, ND</source>
        </trans-unit><trans-unit id="160" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>High-performance computing (HPC)<ept id="p1">**</ept>: Your workloads need the fastest and most powerful CPU virtual machines with optional high-throughput network interfaces.</source>
        </trans-unit><trans-unit id="161" translate="yes" xml:space="preserve">
          <source>H</source>
        </trans-unit><trans-unit id="162" translate="yes" xml:space="preserve">
          <source>Choosing storage options</source>
        </trans-unit><trans-unit id="163" translate="yes" xml:space="preserve">
          <source>The next set of decisions revolves around storage.</source>
        </trans-unit><trans-unit id="164" translate="yes" xml:space="preserve">
          <source>First, you can choose the disk technology.</source>
        </trans-unit><trans-unit id="165" translate="yes" xml:space="preserve">
          <source>Options include a traditional platter-based hard disk drive (HDD) or a more modern solid-state drive (SSD).</source>
        </trans-unit><trans-unit id="166" translate="yes" xml:space="preserve">
          <source>Just like the hardware you purchase, SSD storage costs more but provides better performance.</source>
        </trans-unit><trans-unit id="167" translate="yes" xml:space="preserve">
          <source>There are two levels of SSD storage available: standard and premium.</source>
        </trans-unit><trans-unit id="168" translate="yes" xml:space="preserve">
          <source>Choose Standard SSD disks if you have normal workloads but want better performance.</source>
        </trans-unit><trans-unit id="169" translate="yes" xml:space="preserve">
          <source>Choose Premium SSD disks if you have I/O intensive workloads or mission-critical systems that need to process data very quickly.</source>
        </trans-unit><trans-unit id="170" translate="yes" xml:space="preserve">
          <source>Mapping storage to disks</source>
        </trans-unit><trans-unit id="171" translate="yes" xml:space="preserve">
          <source>Azure uses virtual hard disks (VHDs) to represent physical disks for the VM.</source>
        </trans-unit><trans-unit id="172" translate="yes" xml:space="preserve">
          <source>VHDs replicate the logical format and data of a disk drive but are stored as page blobs in an Azure Storage account.</source>
        </trans-unit><trans-unit id="173" translate="yes" xml:space="preserve">
          <source>You can choose on a per disk basis what type of storage it should use (SSD or HDD).</source>
        </trans-unit><trans-unit id="174" translate="yes" xml:space="preserve">
          <source>This allows you to control the performance of each disk, likely based on the I/O you plan to perform on it.</source>
        </trans-unit><trans-unit id="175" translate="yes" xml:space="preserve">
          <source>By default, two virtual hard disks (VHDs) will be created for your Linux VM:</source>
        </trans-unit><trans-unit id="176" translate="yes" xml:space="preserve">
          <source>The <bpt id="p1">**</bpt>operating system disk<ept id="p1">**</ept>: This is your primary drive, and it has a maximum capacity of 2048 GB.</source>
        </trans-unit><trans-unit id="177" translate="yes" xml:space="preserve">
          <source>It will be labeled as <ph id="ph1">`/dev/sda`</ph> by default.</source>
        </trans-unit><trans-unit id="178" translate="yes" xml:space="preserve">
          <source>A <bpt id="p1">**</bpt>temporary disk<ept id="p1">**</ept>: This provides temporary storage for the OS or any apps.</source>
        </trans-unit><trans-unit id="179" translate="yes" xml:space="preserve">
          <source>On Linux virtual machines, the disk is <ph id="ph1">`/dev/sdb`</ph> and is formatted and mounted to <ph id="ph2">`/mnt`</ph> by the Azure Linux Agent.</source>
        </trans-unit><trans-unit id="180" translate="yes" xml:space="preserve">
          <source>It is sized based on the VM size and is used to store the swap file.</source>
        </trans-unit><trans-unit id="181" translate="yes" xml:space="preserve">
          <source>The temporary disk is not persistent.</source>
        </trans-unit><trans-unit id="182" translate="yes" xml:space="preserve">
          <source>You should only write data to this disk that is not critical to the system.</source>
        </trans-unit><trans-unit id="183" translate="yes" xml:space="preserve">
          <source>What about data?</source>
        </trans-unit><trans-unit id="184" translate="yes" xml:space="preserve">
          <source>You can store data on the primary drive along with the OS, but a better approach is to create dedicated <bpt id="p1">_</bpt>data disks<ept id="p1">_</ept>.</source>
        </trans-unit><trans-unit id="185" translate="yes" xml:space="preserve">
          <source>You can create and attach additional disks to the VM.</source>
        </trans-unit><trans-unit id="186" translate="yes" xml:space="preserve">
          <source>Each disk can hold up to 4095 GB of data, with the maximum amount of storage determined by the VM size you select.</source>
        </trans-unit><trans-unit id="187" translate="yes" xml:space="preserve">
          <source>An interesting capability is to create a VHD image from a real disk.</source>
        </trans-unit><trans-unit id="188" translate="yes" xml:space="preserve">
          <source>This allows you to easily migrate <bpt id="p1">_</bpt>existing<ept id="p1">_</ept> information from an on-premises computer to the cloud.</source>
        </trans-unit><trans-unit id="189" translate="yes" xml:space="preserve">
          <source>Unmanaged vs. managed disks</source>
        </trans-unit><trans-unit id="190" translate="yes" xml:space="preserve">
          <source>The final storage choice you'll make is whether to use <bpt id="p1">**</bpt>unmanaged<ept id="p1">**</ept> or <bpt id="p2">**</bpt>managed<ept id="p2">**</ept> disks.</source>
        </trans-unit><trans-unit id="191" translate="yes" xml:space="preserve">
          <source>With unmanaged disks, you are responsible for the storage accounts that are used to hold the VHDs that correspond to your VM disks.</source>
        </trans-unit><trans-unit id="192" translate="yes" xml:space="preserve">
          <source>You pay the storage account rates for the amount of space you use.</source>
        </trans-unit><trans-unit id="193" translate="yes" xml:space="preserve">
          <source>A single storage account has a fixed rate limit of 20,000 I/O operations/sec. This means that a single storage account is capable of supporting 40 standard virtual hard disks at full throttle.</source>
        </trans-unit><trans-unit id="194" translate="yes" xml:space="preserve">
          <source>If you need to scale out, then you need more than one storage account, which can get complicated.</source>
        </trans-unit><trans-unit id="195" translate="yes" xml:space="preserve">
          <source>Managed disks are the newer and recommended disk storage model.</source>
        </trans-unit><trans-unit id="196" translate="yes" xml:space="preserve">
          <source>They elegantly solve this complexity by putting the burden of managing the storage accounts onto Azure.</source>
        </trans-unit><trans-unit id="197" translate="yes" xml:space="preserve">
          <source>You specify the disk type (Premium or Standard) and the size of the disk, and Azure creates and manages both the disk <bpt id="p1">_</bpt>and<ept id="p1">_</ept> the storage it uses.</source>
        </trans-unit><trans-unit id="198" translate="yes" xml:space="preserve">
          <source>You don't have to worry about storage account limits, which makes them easier to scale out. They also offer several other benefits:</source>
        </trans-unit><trans-unit id="199" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Increased reliability<ept id="p1">**</ept>: Azure ensures that VHDs associated with high-reliability VMs will be placed in different parts of Azure Storage to provide similar levels of resilience.</source>
        </trans-unit><trans-unit id="200" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Better security<ept id="p1">**</ept>: Managed disks are real managed resources in the resource group.</source>
        </trans-unit><trans-unit id="201" translate="yes" xml:space="preserve">
          <source>This means they can use role-based access control to restrict who can work with the VHD data.</source>
        </trans-unit><trans-unit id="202" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Snapshot support<ept id="p1">**</ept>: Snapshots can be used to create a read-only copy of a VHD.</source>
        </trans-unit><trans-unit id="203" translate="yes" xml:space="preserve">
          <source>You have to shut down the owning VM, but creating the snapshot only takes a few seconds.</source>
        </trans-unit><trans-unit id="204" translate="yes" xml:space="preserve">
          <source>Once it's done, you can power on the VM and use the snapshot to create a duplicate VM to troubleshoot a production issue or roll back the VM to the point in time that the snapshot was taken.</source>
        </trans-unit><trans-unit id="205" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Backup support<ept id="p1">**</ept>: Managed disks can be automatically backed up to different regions for disaster recovery with Azure Backup without affecting the service of the VM.</source>
        </trans-unit><trans-unit id="206" translate="yes" xml:space="preserve">
          <source>Network communication</source>
        </trans-unit><trans-unit id="207" translate="yes" xml:space="preserve">
          <source>Virtual machines communicate with external resources using a virtual network (VNet).</source>
        </trans-unit><trans-unit id="208" translate="yes" xml:space="preserve">
          <source>The VNet represents a private network in a single region that your resources communicate on.</source>
        </trans-unit><trans-unit id="209" translate="yes" xml:space="preserve">
          <source>A virtual network is just like the networks you manage on-premises.</source>
        </trans-unit><trans-unit id="210" translate="yes" xml:space="preserve">
          <source>You can divide them up with subnets to isolate resources, connect them to other networks (including your on-premises networks), and apply traffic rules to govern inbound and outbound connections.</source>
        </trans-unit><trans-unit id="211" translate="yes" xml:space="preserve">
          <source>Planning your network</source>
        </trans-unit><trans-unit id="212" translate="yes" xml:space="preserve">
          <source>When you create a new VM, you will have the option of creating a new virtual network or using an existing VNet in your region.</source>
        </trans-unit><trans-unit id="213" translate="yes" xml:space="preserve">
          <source>Having Azure create the network together with the VM is simple, but it's likely not ideal for most scenarios.</source>
        </trans-unit><trans-unit id="214" translate="yes" xml:space="preserve">
          <source>It's better to plan your network requirements <bpt id="p1">_</bpt>up front<ept id="p1">_</ept> for all the components in your architecture and create the VNet structure separately.</source>
        </trans-unit><trans-unit id="215" translate="yes" xml:space="preserve">
          <source>Then, create the VMs and place them into the already-created VNets.</source>
        </trans-unit><trans-unit id="216" translate="yes" xml:space="preserve">
          <source>We'll look more at virtual networks later in this module.</source>
        </trans-unit><trans-unit id="217" translate="yes" xml:space="preserve">
          <source>Before we create a virtual machine, we need to decide how we'd like to administer the VM.</source>
        </trans-unit><trans-unit id="218" translate="yes" xml:space="preserve">
          <source>Let's look at our options.</source>
        </trans-unit></group></body></file></xliff>