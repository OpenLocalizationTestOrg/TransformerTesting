<?xml version="1.0"?><xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd"><file datatype="xml" original="4-exercise-build-application-that-stores-graph-data-using-gremlin-api.md" source-language="en-US" target-language="en-US"><header><tool tool-id="mdxliff" tool-name="mdxliff"  tool-company="Microsoft" /><xliffext:skl_file_name xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">4-exercise-build-application-that-stores-graph-data-using-gremlin-api.5379ad.e20b0db5ef83360cdef6c7f787f60b724a828385.skl</xliffext:skl_file_name><xliffext:version xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">1.2</xliffext:version><xliffext:ms.openlocfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">e20b0db5ef83360cdef6c7f787f60b724a828385</xliffext:ms.openlocfilehash><xliffext:ms.sourcegitcommit xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">ba7e452ac39d7f09a5646044b44de0e1cdc54982</xliffext:ms.sourcegitcommit><xliffext:ms.openlocfilepath xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">learn-pr\azure\store-access-data-cosmos-graph-api\includes\4-exercise-build-application-that-stores-graph-data-using-gremlin-api.md</xliffext:ms.openlocfilepath></header><body><group id="content" extype="content"><trans-unit id="101" translate="yes" xml:space="preserve">
          <source>In this exercise, you'll create an Azure Cosmos DB Gremlin API account, database, and graph (container) using the Azure portal.</source>
        </trans-unit><trans-unit id="102" translate="yes" xml:space="preserve">
          <source>You then build and run a console app using the open-source driver Gremlin.Net.</source>
        </trans-unit><trans-unit id="103" translate="yes" xml:space="preserve">
          <source>Create a Cosmos DB account</source>
        </trans-unit><trans-unit id="104" translate="yes" xml:space="preserve">
          <source>Start by creating the database in Azure, by adding a Cosmos DB account that uses the Graph API.</source>
        </trans-unit><trans-unit id="105" translate="yes" xml:space="preserve">
          <source>Browse to the <bpt id="p1">[</bpt>Azure portal<ept id="p1">](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true)</ept>, and log in using the account that you used when you activated the sandbox.</source>
        </trans-unit><trans-unit id="106" translate="yes" xml:space="preserve">
          <source>Click <bpt id="p1">**</bpt>+ Create a resource<ept id="p1">**</ept>, then <bpt id="p2">**</bpt>Databases<ept id="p2">**</ept>, and then click <bpt id="p3">**</bpt>Azure Cosmos DB<ept id="p3">**</ept>.</source>
        </trans-unit><trans-unit id="107" translate="yes" xml:space="preserve">
          <source>Screenshot showing creating a new Cosmos DB Account</source>
        </trans-unit><trans-unit id="108" translate="yes" xml:space="preserve">
          <source>In the <bpt id="p1">**</bpt>Create Azure Cosmos DB Account<ept id="p1">**</ept> wizard, complete the <bpt id="p2">**</bpt>Basics<ept id="p2">**</ept> page with these values, and then click <bpt id="p3">**</bpt>Review + create<ept id="p3">**</ept>.</source>
        </trans-unit><trans-unit id="109" translate="yes" xml:space="preserve">
          <source>Field</source>
        </trans-unit><trans-unit id="110" translate="yes" xml:space="preserve">
          <source>Value</source>
        </trans-unit><trans-unit id="111" translate="yes" xml:space="preserve">
          <source>Subscription</source>
        </trans-unit><trans-unit id="112" translate="yes" xml:space="preserve">
          <source>Concierge Subscription</source>
        </trans-unit><trans-unit id="113" translate="yes" xml:space="preserve">
          <source>Resource group</source>
        </trans-unit><trans-unit id="114" translate="yes" xml:space="preserve">
          <source><bpt id="p1">&lt;rgn&gt;</bpt>[Sandbox resource group]<ept id="p1">&lt;/rgn&gt;</ept></source>
        </trans-unit><trans-unit id="115" translate="yes" xml:space="preserve">
          <source>Account name</source>
        </trans-unit><trans-unit id="116" translate="yes" xml:space="preserve">
          <source>Use a globally unique value for your Cosmos DB account.</source>
        </trans-unit><trans-unit id="117" translate="yes" xml:space="preserve">
          <source>API</source>
        </trans-unit><trans-unit id="118" translate="yes" xml:space="preserve">
          <source>Gremlin (graph)</source>
        </trans-unit><trans-unit id="119" translate="yes" xml:space="preserve">
          <source>Location</source>
        </trans-unit><trans-unit id="120" translate="yes" xml:space="preserve">
          <source>Choose a region near you from the above list.</source>
        </trans-unit><trans-unit id="121" translate="yes" xml:space="preserve">
          <source>Geo-Redundancy</source>
        </trans-unit><trans-unit id="122" translate="yes" xml:space="preserve">
          <source>Disable</source>
        </trans-unit><trans-unit id="123" translate="yes" xml:space="preserve">
          <source>Multi-region Writes</source>
        </trans-unit><trans-unit id="124" translate="yes" xml:space="preserve">
          <source>Disable</source>
        </trans-unit><trans-unit id="125" translate="yes" xml:space="preserve">
          <source>Screenshot showing creating a new Cosmos DB Account</source>
        </trans-unit><trans-unit id="126" translate="yes" xml:space="preserve">
          <source>If your settings are correct, click <bpt id="p1">**</bpt>Create<ept id="p1">**</ept>.</source>
        </trans-unit><trans-unit id="127" translate="yes" xml:space="preserve">
          <source>It might take a few minutes for Azure to create your new Cosmos DB account.</source>
        </trans-unit><trans-unit id="128" translate="yes" xml:space="preserve">
          <source>When you account has been created, the portal will display <bpt id="p1">**</bpt>Congratulations! Your Azure Cosmos DB account was created<ept id="p1">**</ept>.</source>
        </trans-unit><trans-unit id="129" translate="yes" xml:space="preserve">
          <source>Add a graph</source>
        </trans-unit><trans-unit id="130" translate="yes" xml:space="preserve">
          <source>In the <bpt id="p1">[</bpt>Azure portal<ept id="p1">](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true)</ept>, click <bpt id="p2">**</bpt>All resources<ept id="p2">**</ept>, and then click the Cosmos database you created.</source>
        </trans-unit><trans-unit id="131" translate="yes" xml:space="preserve">
          <source>On the <bpt id="p1">**</bpt>Overview<ept id="p1">**</ept> tab, copy the value for the <bpt id="p2">**</bpt>Gremlin Endpoint<ept id="p2">**</ept>; you will use this value when you create your application in the next section.</source>
        </trans-unit><trans-unit id="132" translate="yes" xml:space="preserve">
          <source>Screenshot showing how to copy the Gremlin Endpoint</source>
        </trans-unit><trans-unit id="133" translate="yes" xml:space="preserve">
          <source>Click <bpt id="p1">**</bpt>Data Explorer<ept id="p1">**</ept>, and then click <bpt id="p2">**</bpt>New Graph<ept id="p2">**</ept>.</source>
        </trans-unit><trans-unit id="134" translate="yes" xml:space="preserve">
          <source>In the <bpt id="p1">**</bpt>Add graph<ept id="p1">**</ept> page, enter the settings for your new graph.</source>
        </trans-unit><trans-unit id="135" translate="yes" xml:space="preserve">
          <source>Take not of the values that you choose for the <bpt id="p1">**</bpt>Database ID<ept id="p1">**</ept> and <bpt id="p2">**</bpt>Graph ID<ept id="p2">**</ept>; you will use these values when you create your application in the next section.</source>
        </trans-unit><trans-unit id="136" translate="yes" xml:space="preserve">
          <source>Setting</source>
        </trans-unit><trans-unit id="137" translate="yes" xml:space="preserve">
          <source>Suggested value</source>
        </trans-unit><trans-unit id="138" translate="yes" xml:space="preserve">
          <source>Description</source>
        </trans-unit><trans-unit id="139" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Database ID<ept id="p1">**</ept></source>
        </trans-unit><trans-unit id="140" translate="yes" xml:space="preserve">
          <source>sample-database</source>
        </trans-unit><trans-unit id="141" translate="yes" xml:space="preserve">
          <source>Enter sample-database as the name for the new database.</source>
        </trans-unit><trans-unit id="142" translate="yes" xml:space="preserve">
          <source>Database names must be between 1 and 255 characters, and cannot contain / \ # ?</source>
        </trans-unit><trans-unit id="143" translate="yes" xml:space="preserve">
          <source>or a trailing space.</source>
        </trans-unit><trans-unit id="144" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Graph ID<ept id="p1">**</ept></source>
        </trans-unit><trans-unit id="145" translate="yes" xml:space="preserve">
          <source>sample-graph</source>
        </trans-unit><trans-unit id="146" translate="yes" xml:space="preserve">
          <source>Enter sample-graph as the name for your new collection.</source>
        </trans-unit><trans-unit id="147" translate="yes" xml:space="preserve">
          <source>Graph names have the same character requirements as database IDs.</source>
        </trans-unit><trans-unit id="148" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Storage Capacity<ept id="p1">**</ept></source>
        </trans-unit><trans-unit id="149" translate="yes" xml:space="preserve">
          <source>Fixed (10 GB)</source>
        </trans-unit><trans-unit id="150" translate="yes" xml:space="preserve">
          <source>Specify a fixed value of 10 GB.</source>
        </trans-unit><trans-unit id="151" translate="yes" xml:space="preserve">
          <source>This value is the storage capacity of the database</source>
        </trans-unit><trans-unit id="152" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Throughput<ept id="p1">**</ept></source>
        </trans-unit><trans-unit id="153" translate="yes" xml:space="preserve">
          <source>400 RUs</source>
        </trans-unit><trans-unit id="154" translate="yes" xml:space="preserve">
          <source>Change the throughput to 400 request units per second (RU/s).</source>
        </trans-unit><trans-unit id="155" translate="yes" xml:space="preserve">
          <source>If you want to reduce latency, you can scale up the throughput later.</source>
        </trans-unit><trans-unit id="156" translate="yes" xml:space="preserve">
          <source>Screenshot showing creating a new Graph</source>
        </trans-unit><trans-unit id="157" translate="yes" xml:space="preserve">
          <source>Click <bpt id="p1">**</bpt>OK<ept id="p1">**</ept> to add the graph to your database.</source>
        </trans-unit><trans-unit id="158" translate="yes" xml:space="preserve">
          <source>Click <bpt id="p1">**</bpt>Keys<ept id="p1">**</ept>, then copy the value for the <bpt id="p2">**</bpt>PRIMARY KEY<ept id="p2">**</ept>; you will use this value when you create your application in the next section.</source>
        </trans-unit><trans-unit id="159" translate="yes" xml:space="preserve">
          <source>Screenshot showing how to copy the access key</source>
        </trans-unit><trans-unit id="160" translate="yes" xml:space="preserve">
          <source>Create a .NET Core app</source>
        </trans-unit><trans-unit id="161" translate="yes" xml:space="preserve">
          <source>Now you'll create a .NET Core application that will allow you to run Gremlin API queries with the Cosmos DB account that you just created.</source>
        </trans-unit><trans-unit id="162" translate="yes" xml:space="preserve">
          <source>In the Cloud Shell, enter the following commands to scaffold a new .NET app, and then change to your new app's directory.</source>
        </trans-unit><trans-unit id="163" translate="yes" xml:space="preserve">
          <source>Add the necessary packages to your app for Gremlin.net and Microsoft.Extensions.Configuration.</source>
        </trans-unit><trans-unit id="164" translate="yes" xml:space="preserve">
          <source>Create a file for your application settings.</source>
        </trans-unit><trans-unit id="165" translate="yes" xml:space="preserve">
          <source>Open your app in the online code editor.</source>
        </trans-unit><trans-unit id="166" translate="yes" xml:space="preserve">
          <source>Open your appsettings.json file in the editor, and add the following syntax.</source>
        </trans-unit><trans-unit id="167" translate="yes" xml:space="preserve">
          <source>Where:</source>
        </trans-unit><trans-unit id="168" translate="yes" xml:space="preserve">
          <source>Field</source>
        </trans-unit><trans-unit id="169" translate="yes" xml:space="preserve">
          <source>Description</source>
        </trans-unit><trans-unit id="170" translate="yes" xml:space="preserve">
          <source>Replace this with just the domain name from the <bpt id="p1">**</bpt>Gremlin Endpoint<ept id="p1">**</ept> value; for example <bpt id="p2">*</bpt>fabrikamgraph.gremlin.cosmos.azure.com<ept id="p2">*</ept>.</source>
        </trans-unit><trans-unit id="171" translate="yes" xml:space="preserve">
          <source>Replace this with just the port from the <bpt id="p1">**</bpt>Gremlin Endpoint<ept id="p1">**</ept> value; this should be <bpt id="p2">*</bpt>443<ept id="p2">*</ept>.</source>
        </trans-unit><trans-unit id="172" translate="yes" xml:space="preserve">
          <source>Replace this with the <bpt id="p1">**</bpt>PRIMARY KEY<ept id="p1">**</ept> value.</source>
        </trans-unit><trans-unit id="173" translate="yes" xml:space="preserve">
          <source>Replace this with your <bpt id="p1">**</bpt>Database ID<ept id="p1">**</ept> value; for example: <bpt id="p2">*</bpt>sample-database<ept id="p2">*</ept>.</source>
        </trans-unit><trans-unit id="174" translate="yes" xml:space="preserve">
          <source>Replace this with your <bpt id="p1">**</bpt>Graph ID<ept id="p1">**</ept> value; for example: <bpt id="p2">*</bpt>sample-graph<ept id="p2">*</ept>.</source>
        </trans-unit><trans-unit id="175" translate="yes" xml:space="preserve">
          <source>To save your changes, press <bpt id="p1">**</bpt>Ctrl-S<ept id="p1">**</ept> to save the file.</source>
        </trans-unit><trans-unit id="176" translate="yes" xml:space="preserve">
          <source>Open your Program.cs file in the editor, and add the following <ph id="ph1">`using`</ph> statements to the beginning of the file.</source>
        </trans-unit><trans-unit id="177" translate="yes" xml:space="preserve">
          <source>Replace the default <ph id="ph1">`Main()`</ph> method with the following code.</source>
        </trans-unit><trans-unit id="178" translate="yes" xml:space="preserve">
          <source>This method reads your configuration settings from your appsettings.json file, initializes the connection to your Cosmos DB account using the Gremlin.NET driver, sends a graph query to the server, and displays the number of items that were returned by the query.</source>
        </trans-unit><trans-unit id="179" translate="yes" xml:space="preserve">
          <source>Add a new <ph id="ph1">`AzureAsync()`</ph> method after <ph id="ph2">`Main()`</ph> method with the following code.</source>
        </trans-unit><trans-unit id="180" translate="yes" xml:space="preserve">
          <source>This method will execute the query and return a result set that the <ph id="ph1">`Main()`</ph> method will use to determine the number of nodes that were returned by the query.</source>
        </trans-unit><trans-unit id="181" translate="yes" xml:space="preserve">
          <source>To save your changes, press <bpt id="p1">**</bpt>Ctrl-S<ept id="p1">**</ept> to save the file, and then press <bpt id="p2">**</bpt>Ctrl-Q<ept id="p2">**</ept> to exit the editor.</source>
        </trans-unit><trans-unit id="182" translate="yes" xml:space="preserve">
          <source>Run queries with your .NET Core app</source>
        </trans-unit><trans-unit id="183" translate="yes" xml:space="preserve">
          <source>From the Command Shell, run the following command:</source>
        </trans-unit><trans-unit id="184" translate="yes" xml:space="preserve">
          <source>Your app should display a simple help message; for example:</source>
        </trans-unit><trans-unit id="185" translate="yes" xml:space="preserve">
          <source>Your new Cosmos DB account should not contain any data, but just to make sure, run the following command to remove all of the nodes:</source>
        </trans-unit><trans-unit id="186" translate="yes" xml:space="preserve">
          <source>Your app should display a message indicating that no nodes were returned; for example:</source>
        </trans-unit><trans-unit id="187" translate="yes" xml:space="preserve">
          <source>Now you'll add some product nodes to your database.</source>
        </trans-unit><trans-unit id="188" translate="yes" xml:space="preserve">
          <source>To do so, run the following commands:</source>
        </trans-unit><trans-unit id="189" translate="yes" xml:space="preserve">
          <source>Your app should display a message for each command indicating that 1 vertice/node was returned; for example:</source>
        </trans-unit><trans-unit id="190" translate="yes" xml:space="preserve">
          <source>Now add some category nodes to your database.</source>
        </trans-unit><trans-unit id="191" translate="yes" xml:space="preserve">
          <source>To do so, run the following commands:</source>
        </trans-unit><trans-unit id="192" translate="yes" xml:space="preserve">
          <source>Your app should display a message for each command indicating that 1 vertice/node was returned:</source>
        </trans-unit><trans-unit id="193" translate="yes" xml:space="preserve">
          <source>Verify that all of your vertices/nodes have been added to your database.</source>
        </trans-unit><trans-unit id="194" translate="yes" xml:space="preserve">
          <source>To do so, run the following command:</source>
        </trans-unit><trans-unit id="195" translate="yes" xml:space="preserve">
          <source>Your app should display a message indicating that 5 vertices/nodes were returned; for example:</source>
        </trans-unit><trans-unit id="196" translate="yes" xml:space="preserve">
          <source>Now add some product to category relationships to your database.</source>
        </trans-unit><trans-unit id="197" translate="yes" xml:space="preserve">
          <source>To do so, run the following commands:</source>
        </trans-unit><trans-unit id="198" translate="yes" xml:space="preserve">
          <source>Your app should display a message for each command indicating that 1 edge/relationship was returned; for example:</source>
        </trans-unit><trans-unit id="199" translate="yes" xml:space="preserve">
          <source>Verify that all of your edges/relationships have been added to your database.</source>
        </trans-unit><trans-unit id="200" translate="yes" xml:space="preserve">
          <source>To do so, run the following command.</source>
        </trans-unit><trans-unit id="201" translate="yes" xml:space="preserve">
          <source>Your app should display a message indicating that 3 edges/relationships were returned; for example.</source>
        </trans-unit><trans-unit id="202" translate="yes" xml:space="preserve">
          <source>Examine your data in the Azure portal</source>
        </trans-unit><trans-unit id="203" translate="yes" xml:space="preserve">
          <source>You can now use the Data Explorer in the Azure portal to browse and query your new graph data.</source>
        </trans-unit><trans-unit id="204" translate="yes" xml:space="preserve">
          <source>In Data Explorer, expand the database and container nodes, and then click <bpt id="p1">**</bpt>Graph<ept id="p1">**</ept>.</source>
        </trans-unit><trans-unit id="205" translate="yes" xml:space="preserve">
          <source>Click the <bpt id="p1">**</bpt>Execute Gremlin Query<ept id="p1">**</ept> button to use the default query to view all the vertices in the graph.</source>
        </trans-unit><trans-unit id="206" translate="yes" xml:space="preserve">
          <source>Screenshot showing the data model of the products added and their relationships to other vertices</source>
        </trans-unit><trans-unit id="207" translate="yes" xml:space="preserve">
          <source>The data you entered using the .NET Core app is displayed in the Graph pane.</source>
        </trans-unit><trans-unit id="208" translate="yes" xml:space="preserve">
          <source>You can zoom in and out of the graph, you can expand the graph display, add additional vertices, and move vertices on the display surface.</source>
        </trans-unit></group></body></file></xliff>