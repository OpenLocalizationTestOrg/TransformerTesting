<?xml version="1.0"?><xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd"><file datatype="xml" original="4-exercise-enable-and-configure-azure-vm-disk-cache-by-using-the-azure-portal.md" source-language="en-US" target-language="en-US"><header><tool tool-id="mdxliff" tool-name="mdxliff" tool-version="1.0-1931010" tool-company="Microsoft" /><xliffext:skl_file_name xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">4-exercise-enable-and-configure-azure-vm-disk-cache-by-using-the-azure-portal.d6feceb398637c5005934983ff790c753cf91d13.skl</xliffext:skl_file_name><xliffext:version xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">1.2</xliffext:version><xliffext:ms.openlocfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">397282389a61dbf26a7255c06d92d2ee2217f5e2</xliffext:ms.openlocfilehash><xliffext:ms.lasthandoff xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">04/24/2019</xliffext:ms.lasthandoff><xliffext:ms.openlocfilepath xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">learn-pr\azure\caching-and-performance-azure-storage-and-disks\includes\4-exercise-enable-and-configure-azure-vm-disk-cache-by-using-the-azure-portal.md</xliffext:ms.openlocfilepath></header><body><group id="content" extype="content"><trans-unit id="101" translate="yes" xml:space="preserve">
          <source>Suppose you run a photo sharing site with data stored on Azure virtual machines (VMs) running SQL Server and custom applications.</source>
        </trans-unit><trans-unit id="102" translate="yes" xml:space="preserve">
          <source>You want to make the following adjustments:</source>
        </trans-unit><trans-unit id="103" translate="yes" xml:space="preserve">
          <source>You need to change the disk cache settings on a VM.</source>
        </trans-unit><trans-unit id="104" translate="yes" xml:space="preserve">
          <source>You want to add a new data disk to the VM with caching enabled.</source>
        </trans-unit><trans-unit id="105" translate="yes" xml:space="preserve">
          <source>You've decided to make these changes through the Azure portal.</source>
        </trans-unit><trans-unit id="106" translate="yes" xml:space="preserve">
          <source>In this exercise, we'll walk through making the changes to a VM that we described above.</source>
        </trans-unit><trans-unit id="107" translate="yes" xml:space="preserve">
          <source>First, let's sign in to the portal and create a VM.</source>
        </trans-unit><trans-unit id="108" translate="yes" xml:space="preserve">
          <source>Create a virtual machine</source>
        </trans-unit><trans-unit id="109" translate="yes" xml:space="preserve">
          <source>In this step, we're going to create a VM with the following properties:</source>
        </trans-unit><trans-unit id="110" translate="yes" xml:space="preserve">
          <source>Property</source>
        </trans-unit><trans-unit id="111" translate="yes" xml:space="preserve">
          <source>Value</source>
        </trans-unit><trans-unit id="112" translate="yes" xml:space="preserve">
          <source>Image</source>
        </trans-unit><trans-unit id="113" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Windows Server 2016 Datacenter<ept id="p1">**</ept></source>
        </trans-unit><trans-unit id="114" translate="yes" xml:space="preserve">
          <source>Name</source>
        </trans-unit><trans-unit id="115" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>fotoshareVM<ept id="p1">**</ept></source>
        </trans-unit><trans-unit id="116" translate="yes" xml:space="preserve">
          <source>Resource group</source>
        </trans-unit><trans-unit id="117" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt><bpt id="p2">&lt;rgn&gt;</bpt>[sandbox resource group name]<ept id="p2">&lt;/rgn&gt;</ept><ept id="p1">**</ept></source>
        </trans-unit><trans-unit id="118" translate="yes" xml:space="preserve">
          <source>Location</source>
        </trans-unit><trans-unit id="119" translate="yes" xml:space="preserve">
          <source>See below.</source>
        </trans-unit><trans-unit id="120" translate="yes" xml:space="preserve">
          <source>Sign into the <bpt id="p1">[</bpt>Azure portal<ept id="p1">](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true)</ept> using the same account you activated the sandbox with.</source>
        </trans-unit><trans-unit id="121" translate="yes" xml:space="preserve">
          <source>Select <bpt id="p1">**</bpt>Create a resource<ept id="p1">**</ept> in the sidebar menu on the left.</source>
        </trans-unit><trans-unit id="122" translate="yes" xml:space="preserve">
          <source><bpt id="p1">_</bpt>Windows Server 2016 VM<ept id="p1">_</ept> should be in the list of <bpt id="p2">**</bpt>Popular<ept id="p2">**</ept> Marketplace elements.</source>
        </trans-unit><trans-unit id="123" translate="yes" xml:space="preserve">
          <source>If not, try searching for "Windows Server 2016 DataCenter" using the search box on the top.</source>
        </trans-unit><trans-unit id="124" translate="yes" xml:space="preserve">
          <source>Select the Windows VM and click <bpt id="p1">**</bpt>Create<ept id="p1">**</ept> to start the VM creation process.</source>
        </trans-unit><trans-unit id="125" translate="yes" xml:space="preserve">
          <source>In the <bpt id="p1">**</bpt>Basics<ept id="p1">**</ept> panel, verify the selected <bpt id="p2">**</bpt>Subscription<ept id="p2">**</ept> is <bpt id="p3">_</bpt>Concierge Subscription<ept id="p3">_</ept>.</source>
        </trans-unit><trans-unit id="126" translate="yes" xml:space="preserve">
          <source>Under <bpt id="p1">**</bpt>Resource Group<ept id="p1">**</ept>, select <bpt id="p2">**</bpt>Use Existing<ept id="p2">**</ept> and choose <bpt id="p3">_</bpt><bpt id="p4">&lt;rgn&gt;</bpt>[sandbox resource group name]<ept id="p4">&lt;/rgn&gt;</ept><ept id="p3">_</ept>.</source>
        </trans-unit><trans-unit id="127" translate="yes" xml:space="preserve">
          <source>In the <bpt id="p1">**</bpt>Virtual machine name<ept id="p1">**</ept> box, enter <bpt id="p2">_</bpt>fotoshareVM<ept id="p2">_</ept>.</source>
        </trans-unit><trans-unit id="128" translate="yes" xml:space="preserve">
          <source>In the <bpt id="p1">**</bpt>Location<ept id="p1">**</ept> drop-down list, select the closest region to you from the following list.</source>
        </trans-unit><trans-unit id="129" translate="yes" xml:space="preserve">
          <source>For the VM <bpt id="p1">**</bpt>Size<ept id="p1">**</ept>, the default is <bpt id="p2">**</bpt>DS1 v2<ept id="p2">**</ept> which gives you a single CPU and 3.5 GB of memory.</source>
        </trans-unit><trans-unit id="130" translate="yes" xml:space="preserve">
          <source>That's fine for this example.</source>
        </trans-unit><trans-unit id="131" translate="yes" xml:space="preserve">
          <source>In <bpt id="p1">**</bpt>ADMINISTRATOR ACCOUNT<ept id="p1">**</ept> section, enter a <bpt id="p2">**</bpt>Username<ept id="p2">**</ept> and <bpt id="p3">**</bpt>Password<ept id="p3">**</ept><ph id="ph1">/</ph><bpt id="p4">**</bpt>Confirm password<ept id="p4">**</ept> for an administrator account on the new VM.</source>
        </trans-unit><trans-unit id="132" translate="yes" xml:space="preserve">
          <source>The following image is an example of what the <bpt id="p1">**</bpt>Basics<ept id="p1">**</ept> configuration looks like when filled out. Leave the defaults for the remaining tabs and fields and click <bpt id="p2">**</bpt>Review + create<ept id="p2">**</ept>.</source>
        </trans-unit><trans-unit id="133" translate="yes" xml:space="preserve">
          <source>Screenshot of the Azure portal showing the Create a virtual machine blade with some example Basics configuration filled out as described.</source>
        </trans-unit><trans-unit id="134" translate="yes" xml:space="preserve">
          <source>After reviewing your new VM settings, click <bpt id="p1">**</bpt>Create<ept id="p1">**</ept> to start the deploying your new VM.</source>
        </trans-unit><trans-unit id="135" translate="yes" xml:space="preserve">
          <source>VM creation can take a few minutes as it creates all the various resources (storage, network interface, etc.) to support the virtual machine.</source>
        </trans-unit><trans-unit id="136" translate="yes" xml:space="preserve">
          <source>Wait until the VM has deployed before continuing with the exercise.</source>
        </trans-unit><trans-unit id="137" translate="yes" xml:space="preserve">
          <source>View OS disk cache status in the portal</source>
        </trans-unit><trans-unit id="138" translate="yes" xml:space="preserve">
          <source>Once our VM is deployed, we can confirm the caching status of the OS disk using the following steps:</source>
        </trans-unit><trans-unit id="139" translate="yes" xml:space="preserve">
          <source>Select the <bpt id="p1">**</bpt>fotoshareVM<ept id="p1">**</ept> resource to open the VM details in the portal.</source>
        </trans-unit><trans-unit id="140" translate="yes" xml:space="preserve">
          <source>Alternatively, you can click <bpt id="p1">**</bpt>All resources<ept id="p1">**</ept> in the left sidebar and then select your VM, <bpt id="p2">**</bpt>fotoshareVM<ept id="p2">**</ept>.</source>
        </trans-unit><trans-unit id="141" translate="yes" xml:space="preserve">
          <source>Under <bpt id="p1">**</bpt>Settings<ept id="p1">**</ept>, select <bpt id="p2">**</bpt>Disks<ept id="p2">**</ept>.</source>
        </trans-unit><trans-unit id="142" translate="yes" xml:space="preserve">
          <source>On the <bpt id="p1">**</bpt>Disks<ept id="p1">**</ept> pane, the VM has one disk, the OS disk.</source>
        </trans-unit><trans-unit id="143" translate="yes" xml:space="preserve">
          <source>Its cache type is currently set to the default value of <bpt id="p1">**</bpt>Read/write<ept id="p1">**</ept>.</source>
        </trans-unit><trans-unit id="144" translate="yes" xml:space="preserve">
          <source>Screenshot of the Azure portal showing the Disks section of a VM blade, with the OS disk shown and set to Read-only caching.</source>
        </trans-unit><trans-unit id="145" translate="yes" xml:space="preserve">
          <source>Change the cache settings of the OS disk in the portal</source>
        </trans-unit><trans-unit id="146" translate="yes" xml:space="preserve">
          <source>On the <bpt id="p1">**</bpt>Disks<ept id="p1">**</ept> pane, select <bpt id="p2">**</bpt>Edit<ept id="p2">**</ept> in the upper left of the screen.</source>
        </trans-unit><trans-unit id="147" translate="yes" xml:space="preserve">
          <source>Change the <bpt id="p1">**</bpt>HOST CACHING<ept id="p1">**</ept> value for the OS disk to <bpt id="p2">**</bpt>Read-only<ept id="p2">**</ept> using the drop-down list, and then select <bpt id="p3">**</bpt>Save<ept id="p3">**</ept> in the upper left of the screen.</source>
        </trans-unit><trans-unit id="148" translate="yes" xml:space="preserve">
          <source>This update can take some time.</source>
        </trans-unit><trans-unit id="149" translate="yes" xml:space="preserve">
          <source>The reason is that changing the cache setting of an Azure disk detaches and reattaches the target disk.</source>
        </trans-unit><trans-unit id="150" translate="yes" xml:space="preserve">
          <source>If it's the operating system disk, the VM is also restarted.</source>
        </trans-unit><trans-unit id="151" translate="yes" xml:space="preserve">
          <source>When the operation completes, you'll get a notification saying the VM disks have been updated.</source>
        </trans-unit><trans-unit id="152" translate="yes" xml:space="preserve">
          <source>Once complete, the OS disk cache type is set to <bpt id="p1">**</bpt>Read-only<ept id="p1">**</ept>.</source>
        </trans-unit><trans-unit id="153" translate="yes" xml:space="preserve">
          <source>Let's move on to data disk cache configuration.</source>
        </trans-unit><trans-unit id="154" translate="yes" xml:space="preserve">
          <source>To configure a disk, we'll need first to create one.</source>
        </trans-unit><trans-unit id="155" translate="yes" xml:space="preserve">
          <source>Add a data disk to the VM and set caching type</source>
        </trans-unit><trans-unit id="156" translate="yes" xml:space="preserve">
          <source>Back on the <bpt id="p1">**</bpt>Disks<ept id="p1">**</ept> view of our VM in the portal, go ahead and click <bpt id="p2">**</bpt>Add data disk<ept id="p2">**</ept>.</source>
        </trans-unit><trans-unit id="157" translate="yes" xml:space="preserve">
          <source>An error immediately appears in the <bpt id="p1">**</bpt>Name<ept id="p1">**</ept> field, telling us that the field can't be empty.</source>
        </trans-unit><trans-unit id="158" translate="yes" xml:space="preserve">
          <source>We don't have a data disk yet, so let's create one.</source>
        </trans-unit><trans-unit id="159" translate="yes" xml:space="preserve">
          <source>Click in the <bpt id="p1">**</bpt>Name<ept id="p1">**</ept> list, and then click <bpt id="p2">**</bpt>Create disk<ept id="p2">**</ept>.</source>
        </trans-unit><trans-unit id="160" translate="yes" xml:space="preserve">
          <source>In the <bpt id="p1">**</bpt>Create managed disk<ept id="p1">**</ept> pane, in the <bpt id="p2">**</bpt>Name<ept id="p2">**</ept> box, type <bpt id="p3">**</bpt>fotosharesVM-data<ept id="p3">**</ept>.</source>
        </trans-unit><trans-unit id="161" translate="yes" xml:space="preserve">
          <source>Under <bpt id="p1">**</bpt>Resource Group<ept id="p1">**</ept>, select <bpt id="p2">**</bpt>Use existing<ept id="p2">**</ept>, and select <bpt id="p3">_</bpt><bpt id="p4">&lt;rgn&gt;</bpt>[sandbox resource group name]<ept id="p4">&lt;/rgn&gt;</ept><ept id="p3">_</ept>.</source>
        </trans-unit><trans-unit id="162" translate="yes" xml:space="preserve">
          <source>Note the defaults for the remaining fields:</source>
        </trans-unit><trans-unit id="163" translate="yes" xml:space="preserve">
          <source>Premium SSD</source>
        </trans-unit><trans-unit id="164" translate="yes" xml:space="preserve">
          <source>1023 GB in size</source>
        </trans-unit><trans-unit id="165" translate="yes" xml:space="preserve">
          <source>In the same location as the VM (not changeable).</source>
        </trans-unit><trans-unit id="166" translate="yes" xml:space="preserve">
          <source>IOPS limit - 5000</source>
        </trans-unit><trans-unit id="167" translate="yes" xml:space="preserve">
          <source>Throughput limit (MB/s) - 200</source>
        </trans-unit><trans-unit id="168" translate="yes" xml:space="preserve">
          <source>Click <bpt id="p1">**</bpt>Create<ept id="p1">**</ept> at the bottom of the screen.</source>
        </trans-unit><trans-unit id="169" translate="yes" xml:space="preserve">
          <source>Wait until the disk has been created before continuing.</source>
        </trans-unit><trans-unit id="170" translate="yes" xml:space="preserve">
          <source>Change the <bpt id="p1">**</bpt>HOST CACHING<ept id="p1">**</ept> value for our new data disk to <bpt id="p2">**</bpt>Read-only<ept id="p2">**</ept> using the drop-down list (it might be set already), and then click <bpt id="p3">**</bpt>Save<ept id="p3">**</ept> in the upper left of the screen.</source>
        </trans-unit><trans-unit id="171" translate="yes" xml:space="preserve">
          <source>Wait for the VM to finish updating the new data disk.</source>
        </trans-unit><trans-unit id="172" translate="yes" xml:space="preserve">
          <source>Once complete, you will have a new data disk on your virtual machine.</source>
        </trans-unit><trans-unit id="173" translate="yes" xml:space="preserve">
          <source>In this exercise, we used the Azure portal to configure caching on a new VM, change cache settings on an existing disk, and configure caching on a new data disk.</source>
        </trans-unit><trans-unit id="174" translate="yes" xml:space="preserve">
          <source>The following screenshot shows the final configuration:</source>
        </trans-unit><trans-unit id="175" translate="yes" xml:space="preserve">
          <source>Screenshot of the Azure portal showing the OS disk and new data disk in the Disks section of our VM blade, with both disks set to Read-only caching.</source>
        </trans-unit></group></body></file></xliff>